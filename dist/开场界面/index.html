<head><style>html{width:100%;height:auto;margin:0;padding:0;overflow:visible;background:0 0}body{width:100%;height:auto;margin:0;padding:0;overflow-x:hidden;background:0 0}#app{width:100%;min-height:100vh;display:flex;justify-content:center;align-items:flex-start;background:0 0}</style><script type="module">import'https://testingcf.jsdelivr.net/npm/klona/+esm';var e={502(e,t){t.A=(e,t)=>{const n=e.__vccOpts||e;for(const[e,a]of t)n[e]=a;return n}}},t={};function n(a){var l=t[a];if(void 0!==l)return l.exports;var o=t[a]={exports:{}};return e[a](o,o.exports,n),o.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);const a=Vue,l=toastr;var o=n.n(l);const c=[{id:'01',title:'é›¨å£°æ·…æ·…',description:'ä¸‹é›¨å¤©ï¼Œå“¥åœ¨ç­‰<user>æ”¾å­¦...',image:'https://pic1.imgdb.cn/item/6938291300233646958dead1.png',message:' '},{id:'02',title:'è‘¬ç¤¼',description:'å…»æ¯æ­»åï¼Œåœ¨è‘¬ç¤¼ä¸Šçš„é‡é€¢',image:'https://pic1.imgdb.cn/item/693828f100233646958deab2.png',message:'ğŸš§è¿˜æ²¡åšå®Œï¼Œå‰æ–¹æ–½å·¥ä¸­ğŸš§'},{id:'03',title:'ç—…çƒ­æ½®',description:'å“¥å‘çƒ§äº†ï¼Œæ¥å¯¹ä»–åšç‚¹ä»€ä¹ˆå§ï¼Ÿ',image:'https://pic1.imgdb.cn/item/6938293600233646958deb09.png',message:' '},{id:'04',title:'å·çª¥',description:'è¿™æ˜¯ä»€ä¹ˆï¼Ÿå“¥çš„æ—¥è®°ï¼Ÿå·çœ‹ä¸€ä¸‹ã€‚',image:'https://pic1.imgdb.cn/item/693828fe00233646958deab8.png',message:' '}],s=[{name:'ç¨‹åŒ—æ',role:'ç”·ä¸»è§’',desc:'ç¨‹å®¶å…»å­ï¼Œ<user>åä¹‰ä¸Šçš„å“¥å“¥',image:'https://iili.io/f1w9qVR.jpg',colorClass:'blue'},{name:'è®¸æ¡¥é›¨',role:'<user>çš„åŒå­¦',desc:'å’Œ<user>åŒç­ï¼Œæ€§æ ¼æ¸©æŸ”éšå’Œï¼Œå­¦ä¹ åŠªåŠ›ã€‚',image:'https://iili.io/f1w9nKN.jpg',colorClass:''},{name:'æ—é£',role:'ç¨‹åŒ—æçš„åŒå­¦',desc:'å¤–å‘å¼€æœ—,å®¶å¢ƒä¼˜æ¸¥æ‰€ä»¥ä¸åœ¨ä¹å­¦ä¹ ,ä¸€ä¸ªä¸çˆ±è¯»ä¹¦ã€å‘å¾€å¤–é¢ä¸–ç•Œçš„â€œåå­¦ç”Ÿâ€ã€‚',image:'https://iili.io/f1w9olI.jpg',colorClass:'orange'},{name:'é™ˆæ›¦',role:'<user>çš„åŒå­¦',desc:'å’Œ{{user}}åŒç­ï¼Œæ€§æ ¼è…¼è…†è°¨æ…ï¼Œè‰ºæœ¯ç”Ÿå…¼æ–‡è‰ºå§”å‘˜ã€‚',image:'https://iili.io/f1w9xSt.jpg',colorClass:'gray'}],r='å¼€åœºç•Œé¢-æ¨¡å‹æ•°æ®',i={count:20,minDuration:5,maxDuration:10,maxDelay:5};async function d(e){try{if('02'===e.id)return void o().warning('ğŸš§è¿˜æ²¡åšå®Œï¼Œå‰æ–¹æ–½å·¥ä¸­ğŸš§');const t={'01':2,'03':3,'04':4}[e.id];t?(await async function(e){try{if(void 0!==window.SillyTavern&&window.SillyTavern.chat&&window.SillyTavern.chat[0]){const t=window.SillyTavern.chat[0];void 0!==t.swipe_id&&t.swipe_id!==e&&(t.swipes&&t.swipes[e]?(t.swipe_id=e,t.mes=t.swipes[e],await window.SillyTavern.saveChat(),await window.SillyTavern.reloadCurrentChat(),console.info(`å·²è·³è½¬åˆ° swipe ${e}`)):(console.warn(`swipe ${e} ä¸å­˜åœ¨`),o().warning(`swipe ${e} ä¸å­˜åœ¨`)))}}catch(e){throw console.error('è·³è½¬ swipe å¤±è´¥:',e),o().error('è·³è½¬å¤±è´¥'),e}}(t),o().success(`å·²é€‰æ‹©å¼€åœºï¼š${e.title}`)):(await createChatMessages([{role:'system',message:e.message}],{refresh:'all'}),await triggerSlash('/trigger'),o().success(`å·²é€‰æ‹©å¼€åœºï¼š${e.title}`))}catch(e){throw console.error('é€‰æ‹©å¼€åœºå¤±è´¥:',e),o().error('é€‰æ‹©å¼€åœºå¤±è´¥'),e}}function u(){try{const e=function(){if(document.querySelector('.opening-interface')){const e=800,t=window.innerWidth,n=window.innerHeight,a=1200,l=20,o=Math.max(t-2*l,0),c=Math.max(n-2*l,0);if(o>0&&c>0){const t=o/a,n=c/e,l=e*Math.min(t,n,1);return Math.max(400,Math.min(1.1*l,2e3))}}const e=document.body,t=document.documentElement,n=document.getElementById('app'),a=[e.scrollHeight,e.offsetHeight,t.clientHeight,t.scrollHeight,t.offsetHeight,n?.scrollHeight||0,n?.offsetHeight||0],l=Math.max(...a.filter(e=>e>0));return Math.max(400,Math.min(l,2e3))}(),t=window.frameElement;t?(t.style.height=`${e}px`,console.info(`[å¼€åœºç•Œé¢] è°ƒæ•´ iframe é«˜åº¦: ${e}px`)):(document.body.style.minHeight=`${e}px`,console.info(`[å¼€åœºç•Œé¢] è°ƒæ•´ body é«˜åº¦: ${e}px`))}catch(e){console.warn('[å¼€åœºç•Œé¢] è°ƒæ•´é«˜åº¦å¤±è´¥:',e)}}const m={class:'icon icon-sm',viewBox:'0 0 24 24'};var p=n(502);const v={},g=(0,p.A)(v,[['render',function(e,t){return(0,a.openBlock)(),(0,a.createElementBlock)('svg',m,[...t[0]||(t[0]=[(0,a.createElementVNode)('line',{x1:'19',y1:'12',x2:'5',y2:'12'},null,-1),(0,a.createElementVNode)('polyline',{points:'12 19 5 12 12 5'},null,-1)])])}]]),f={class:'icon icon-sm',viewBox:'0 0 24 24'};const h={},y=(0,p.A)(h,[['render',function(e,t){return(0,a.openBlock)(),(0,a.createElementBlock)('svg',f,[...t[0]||(t[0]=[(0,a.createElementVNode)('polyline',{points:'20 6 9 17 4 12'},null,-1)])])}]]),k={class:'icon icon-lg',viewBox:'0 0 24 24'};const N={},V=(0,p.A)(N,[['render',function(e,t){return(0,a.openBlock)(),(0,a.createElementBlock)('svg',k,[...t[0]||(t[0]=[(0,a.createElementVNode)('polyline',{points:'15 18 9 12 15 6'},null,-1)])])}]]),b={class:'icon icon-lg',viewBox:'0 0 24 24'};const E={},x=(0,p.A)(E,[['render',function(e,t){return(0,a.openBlock)(),(0,a.createElementBlock)('svg',b,[...t[0]||(t[0]=[(0,a.createElementVNode)('polyline',{points:'9 18 15 12 9 6'},null,-1)])])}]]),w={class:'icon icon-sm',viewBox:'0 0 24 24'};const B={},C=(0,p.A)(B,[['render',function(e,t){return(0,a.openBlock)(),(0,a.createElementBlock)('svg',w,[...t[0]||(t[0]=[(0,a.createElementVNode)('line',{x1:'18',y1:'6',x2:'6',y2:'18'},null,-1),(0,a.createElementVNode)('line',{x1:'6',y1:'6',x2:'18',y2:'18'},null,-1)])])}]]);const M={class:'icon',viewBox:'0 0 24 24'};const S={},D=(0,p.A)(S,[['render',function(e,t){return(0,a.openBlock)(),(0,a.createElementBlock)('svg',M,[...t[0]||(t[0]=[(0,a.createElementVNode)('polygon',{points:'5 3 19 12 5 21 5 3'},null,-1)])])}]]),T={class:'icon',viewBox:'0 0 24 24'};const j={},L=(0,p.A)(j,[['render',function(e,t){return(0,a.openBlock)(),(0,a.createElementBlock)('svg',T,[...t[0]||(t[0]=[(0,a.createElementVNode)('circle',{cx:'12',cy:'12',r:'3'},null,-1),(0,a.createElementVNode)('path',{d:'M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z'},null,-1)])])}]]),U={class:'icon',viewBox:'0 0 24 24'};const I={},R=(0,p.A)(I,[['render',function(e,t){return(0,a.openBlock)(),(0,a.createElementBlock)('svg',U,[...t[0]||(t[0]=[(0,a.createElementVNode)('path',{d:'M12 3l1.912 5.813L20 9.5l-4.562 3.937L17 19l-5-3.5L7 19l1.563-5.563L4 9.5l6.088-.687L12 3z',fill:'currentColor',stroke:'none'},null,-1)])])}]]),F={class:'icon',viewBox:'0 0 24 24'};const O={},A=(0,p.A)(O,[['render',function(e,t){return(0,a.openBlock)(),(0,a.createElementBlock)('svg',F,[...t[0]||(t[0]=[(0,a.createElementVNode)('path',{d:'M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4'},null,-1),(0,a.createElementVNode)('polyline',{points:'17 8 12 3 7 8'},null,-1),(0,a.createElementVNode)('line',{x1:'12',y1:'3',x2:'12',y2:'15'},null,-1)])])}]]),W={class:'icon',viewBox:'0 0 24 24'};const H={},G=(0,p.A)(H,[['render',function(e,t){return(0,a.openBlock)(),(0,a.createElementBlock)('svg',W,[...t[0]||(t[0]=[(0,a.createElementVNode)('path',{d:'M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2'},null,-1),(0,a.createElementVNode)('circle',{cx:'9',cy:'7',r:'4'},null,-1),(0,a.createElementVNode)('path',{d:'M23 21v-2a4 4 0 0 0-3-3.87'},null,-1),(0,a.createElementVNode)('path',{d:'M16 3.13a4 4 0 0 1 0 7.75'},null,-1)])])}]]),K={class:'collapsible-section'},P={class:'header-title'},q={key:1,class:'badge'},J={class:'collapsible-content'},Q=(Boolean,'model-files');function X(){return new Promise((e,t)=>{const n=indexedDB.open('live2d-models-db',1);n.onerror=()=>t(n.error),n.onsuccess=()=>e(n.result),n.onupgradeneeded=e=>{const t=e.target.result;t.objectStoreNames.contains(Q)||t.createObjectStore(Q,{keyPath:'id'})}})}async function Y(e,t,n){const a=await X(),l=function(e,t){return`${e}::${t}`}(e,t);return new Promise((o,c)=>{const s=a.transaction([Q],'readwrite').objectStore(Q),r=new FileReader;r.onload=()=>{const a={id:l,modelName:e,filename:t,data:r.result,type:n.type,size:n.size,lastModified:n.lastModified},i=s.put(a);i.onsuccess=()=>{console.info(`[IndexedDB] å·²å­˜å‚¨æ–‡ä»¶: ${t} (${(n.size/1024).toFixed(2)}KB)`),o(l)},i.onerror=()=>c(i.error)},r.onerror=()=>c(r.error),r.readAsArrayBuffer(n)})}async function Z(){const e=await X(),t=await new Promise((t,n)=>{const a=e.transaction([Q],'readonly').objectStore(Q).getAll();a.onsuccess=()=>t(a.result||[]),a.onerror=()=>n(a.error)}),n=t.reduce((e,t)=>'number'==typeof t.size?e+t.size:e+(t.data instanceof ArrayBuffer?t.data.byteLength:0),0);return await new Promise((t,n)=>{const a=e.transaction([Q],'readwrite').objectStore(Q).clear();a.onsuccess=()=>t(),a.onerror=()=>n(a.error)}),console.info(`[IndexedDB] å·²æ¸…ç†æ‰€æœ‰æ¨¡å‹ç¼“å­˜ (${t.length} ä¸ªæ–‡ä»¶ï¼Œçº¦ ${(n/1024/1024).toFixed(2)} MB)`),{clearedCount:t.length,clearedSize:n}}function ee(e,t){return{name:e?`[ç«‹ç»˜èµ„æº] ${e}`:'[ç«‹ç»˜èµ„æº]',enabled:!0,strategy:{type:'selective',keys:e?[e,`${e}çš„ç«‹ç»˜`]:['ç«‹ç»˜','è§’è‰²ç«‹ç»˜'],keys_secondary:{logic:'and_any',keys:[]},scan_depth:'same_as_global'},position:{type:'after_character_definition',role:'system',depth:0,order:1},content:`\`\`\`json\n${JSON.stringify(t,null,2)}\n\`\`\`\n`,probability:100,recursion:{prevent_incoming:!1,prevent_outgoing:!1,delay_until:null},effect:{sticky:null,cooldown:null,delay:null}}}const te={class:'page-header'},ne={class:'page-header-actions'},ae=(0,a.defineComponent)({__name:'PageHeader',props:{title:{}},emits:['back'],setup:e=>(t,n)=>((0,a.openBlock)(),(0,a.createElementBlock)('div',te,[(0,a.createElementVNode)('button',{class:'bubble-btn bubble-btn-sm',onClick:n[0]||(n[0]=e=>t.$emit('back'))},[(0,a.createVNode)(g),n[1]||(n[1]=(0,a.createTextVNode)(' è¿”å› ',-1))]),(0,a.createElementVNode)('h2',null,[(0,a.renderSlot)(t.$slots,'left-icon'),(0,a.createTextVNode)(' '+(0,a.toDisplayString)(e.title)+' ',1),(0,a.renderSlot)(t.$slots,'right-icon')]),(0,a.createElementVNode)('div',ne,[(0,a.renderSlot)(t.$slots,'actions',{},()=>[n[2]||(n[2]=(0,a.createElementVNode)('div',{class:'spacer'},null,-1))])])]))}),le={class:'model-upload-wizard'},oe=['disabled'],ce={class:'steps-indicator'},se={class:'step-number'},re={class:'step-label'},ie={class:'step-content'},de={key:0,class:'uploaded-files-preview'},ue={class:'files-summary'},me={key:0,class:'hint'},pe={class:'files-list'},ve={class:'file-name'},ge={key:0,class:'file-source-badge',title:'URLå¯¼å…¥'},fe=['onClick'],he={class:'upload-methods-container'},ye={class:'upload-method-section'},ke={class:'upload-area-inner'},Ne={class:'upload-placeholder'},Ve={class:'upload-method-section'},be={class:'url-upload-area'},Ee={class:'url-input-group'},xe=['onKeydown'],we=['disabled'],Be={class:'step-actions'},Ce=['disabled'],Me={class:'step-content'},$e={key:0,class:'classifying-status'},Se={key:1,class:'classified-files'},De={class:'settings-card'},_e={class:'files-categories'},Te={key:0,class:'category-section'},je={class:'file-category'},Le={key:0,class:'category-item'},Ue={key:1,class:'category-item'},Ie={key:1,class:'category-section'},Re={class:'file-category'},Fe={class:'file-name'},ze=['onChange'],Oe={key:2,class:'category-section'},Ae={class:'file-category'},We=['onClick'],He={key:3,class:'category-section'},Ge={class:'file-category'},Ke={class:'file-name'},Pe={key:0,class:'character-name-badge'},qe=['onChange'],Je={key:4,class:'category-section'},Qe={class:'file-category'},Xe={class:'file-name'},Ye=['onChange'],Ze={key:5,class:'category-section'},et={class:'file-category'},tt={class:'file-name'},nt=['onChange'],at={key:6,class:'category-section'},lt={class:'file-category'},ot={class:'file-name'},ct=['onChange'],st={key:7,class:'category-section'},rt={class:'file-category'},it={class:'step-actions'},dt=['disabled'],ut={class:'step-content'},mt={key:0,class:'model-settings'},pt={class:'settings-card'},vt={class:'setting-item'},gt={class:'setting-item'},ft={key:1,class:'settings-card'},ht={class:'step-actions'},yt={class:'step-content'},kt={class:'resource-settings-list'},Nt={class:'resource-entry-content'},Vt={class:'resource-entry-desc'},bt={class:'resource-entry-badge'},Et={class:'resource-entry-badge'},xt={class:'resource-entry-badge'},wt={class:'resource-entry-badge'},Bt={key:4,class:'no-resources-hint'},Ct={class:'step-content resource-detail-page'},Mt={class:'resource-detail-content'},$t={class:'resource-detail-header'},St={class:'resource-detail-title'},Dt={key:0,class:'animation-settings'},_t={class:'setting-item'},Tt=['value'],jt={class:'setting-item'},Lt=['value'],Ut={class:'setting-item'},It={class:'text-mapping-section'},Rt={class:'text-mapping-header'},Ft={class:'mapping-list'},zt={class:'mapping-inputs-vertical'},Ot={class:'text-tags-input-wrapper'},At=['value','onBlur','onKeydown'],Wt={key:0,class:'text-tags'},Ht=['onClick'],Gt={class:'mapping-selects-row'},Kt={class:'mapping-select-item'},Pt=['onUpdate:modelValue'],qt=['value'],Jt={class:'mapping-select-item'},Qt=['onUpdate:modelValue'],Xt=['value'],Yt=['onClick'],Zt={key:1,class:'sprite-settings'},en={class:'sprite-header'},tn={class:'sprite-name'},nn={key:0,class:'character-name-badge'},an=['onClick'],ln={class:'text-mapping-section compact'},on={class:'mapping-list'},cn={class:'mapping-inputs'},sn={class:'text-tags-input-wrapper'},rn=['value','onBlur','onKeydown'],dn={key:0,class:'text-tags'},un=['onClick'],mn=['onClick'],pn={key:2,class:'background-settings'},vn={class:'resource-header'},gn={class:'resource-name'},fn=['onClick'],hn={class:'text-mapping-section compact'},yn={class:'mapping-list'},kn={class:'mapping-inputs'},Nn={class:'text-tags-input-wrapper'},Vn=['value','onBlur','onKeydown'],bn={key:0,class:'text-tags'},En=['onClick'],xn=['onClick'],wn={key:3,class:'cg-settings'},Bn={class:'resource-header'},Cn={class:'resource-name'},Mn=['onClick'],$n={class:'text-mapping-section compact'},Sn={class:'mapping-list'},Dn={class:'mapping-inputs'},_n={class:'text-tags-input-wrapper'},Tn=['value','onBlur','onKeydown'],jn={key:0,class:'text-tags'},Ln=['onClick'],Un=['onClick'],In={class:'step-content'},Rn={class:'completion-summary'},Fn={class:'summary-details'},zn={class:'step-actions'},On=['disabled'],An={key:0},Wn={key:1},Hn=(0,a.defineComponent)({__name:'ModelUploadWizard',emits:['close','complete'],setup(e,{emit:t}){const n=t,l=[{label:'ä¸Šä¼ æ–‡ä»¶'},{label:'åˆ†ç±»æ–‡ä»¶'},{label:'æ¨¡å‹è®¾ç½®'},{label:'èµ„æºè®¾ç½®'},{label:'å®Œæˆ'}],c=(0,a.ref)(0),s=(0,a.ref)(),i=(0,a.ref)(null),d=(0,a.computed)(()=>{switch(i.value){case'animation':return'åŠ¨ç”»å’Œè¡¨æƒ…è®¾ç½®';case'sprite':return'è§’è‰²ç«‹ç»˜è®¾ç½®';case'background':return'èƒŒæ™¯è®¾ç½®';case'cg':return'CGè®¾ç½®';default:return''}});function u(e){i.value=e}function m(){i.value=null}const p=(0,a.ref)([]),v=(0,a.ref)(''),g=(0,a.ref)(!1),f=(0,a.ref)(!1),h=(0,a.ref)(3),k=(0,a.ref)(''),N=(0,a.ref)(!1),V=(0,a.ref)(!1),b=(0,a.ref)({textures:[],moc3:null,model3:null,cdi3:null,motions:[],sprites:[],backgrounds:[],cgs:[],unclassifiedImages:[],others:[]}),E=(0,a.computed)(()=>b.value.moc3||b.value.model3),x=(0,a.computed)(()=>b.value.motions.filter(e=>'motion'===e.type).length),w=(0,a.computed)(()=>b.value.motions.filter(e=>'expression'===e.type).length),B=(0,a.ref)(new Map),M=(0,a.computed)(()=>{const e=b.value.moc3||b.value.model3,t=b.value.sprites.length>0||b.value.backgrounds.length>0||b.value.cgs.length>0||b.value.textures.length>0,n=b.value.unclassifiedImages.length>0;return''!==v.value.trim()&&(e||t)&&!n});async function S(){if(V.value)return;if(window.confirm('ç¡®å®šè¦æ¸…é™¤å·²ç¼“å­˜çš„æ¨¡å‹å’Œèµ„æºå—ï¼Ÿè¿™ä¼šåˆ é™¤æœ¬åœ° IndexedDB ç¼“å­˜ï¼Œéœ€è¦é‡æ–°ä¸Šä¼ æˆ–å¯¼å…¥ã€‚')){V.value=!0;try{const{clearedCount:e,clearedSize:t}=await Z();if(0===e)return void o().info('å½“å‰æ²¡æœ‰å¯æ¸…ç†çš„ç¼“å­˜');o().success(`å·²æ¸…ç† ${e} ä¸ªç¼“å­˜æ–‡ä»¶ï¼Œé‡Šæ”¾ ${function(e){if(e<=0)return'0 KB';const t=e/1048576;return t>=1?`${t.toFixed(2)} MB`:`${(e/1024).toFixed(2)} KB`}(t)}`)}catch(e){const t=e instanceof Error?e.message:'æœªçŸ¥é”™è¯¯';console.error('æ¸…ç† IndexedDB ç¼“å­˜å¤±è´¥:',e),o().error(`æ¸…ç†å¤±è´¥ï¼š${t}`)}finally{V.value=!1}}}function D(){s.value?.click()}function T(e){const t=e.target,n=t.files;if(n&&n.length>0){const e=Array.from(n),t=new Set(p.value.map(e=>e.file.name)),a=e.filter(e=>!t.has(e.name));p.value.push(...a.map(e=>({file:e,sourceUrl:void 0}))),a.length<e.length&&o().info(`å·²è·³è¿‡ ${e.length-a.length} ä¸ªé‡å¤æ–‡ä»¶`)}t.value=''}function j(e){const t=e.dataTransfer?.files;if(t&&t.length>0){const e=Array.from(t),n=new Set(p.value.map(e=>e.file.name)),a=e.filter(e=>!n.has(e.name));p.value.push(...a.map(e=>({file:e,sourceUrl:void 0}))),a.length<e.length&&o().info(`å·²è·³è¿‡ ${e.length-a.length} ä¸ªé‡å¤æ–‡ä»¶`)}}function L(){p.value=[]}async function U(){const e=k.value.trim();if(e){N.value=!0;try{const t=e.split(/[,\n;]/).map(e=>e.trim()).filter(e=>e.length>0);if(0===t.length)return void o().warning('æœªæ‰¾åˆ°æœ‰æ•ˆçš„URL');const n=new Set(p.value.map(e=>e.file.name));let a=0,l=0;const c=[];for(const e of t)try{try{new URL(e)}catch{console.warn(`æ— æ•ˆçš„URLæ ¼å¼: ${e}`),l++,c.push(e);continue}const t=await fetch(e,{method:'HEAD'});if(!t.ok){console.error(`æ— æ³•è®¿é—®æ–‡ä»¶: ${e}`,t.statusText),l++,c.push(e);continue}const o=await fetch(e);if(!o.ok){console.error(`æ— æ³•ä¸‹è½½æ–‡ä»¶: ${e}`,o.statusText),l++,c.push(e);continue}const s=await o.blob();let r=e.split('/').pop()?.split('?')[0]||'unknown';const i=o.headers.get('Content-Disposition');if(i){const e=i.match(/filename[^;=\n]*=((['"]).*?\2|[^;\n]*)/);e&&e[1]&&(r=e[1].replace(/['"]/g,''))}if(!r.match(/\.[a-z0-9]+$/i)){const e=o.headers.get('Content-Type');if(e){r+={'image/png':'.png','image/jpeg':'.jpg','image/jpg':'.jpg','application/json':'.json','application/octet-stream':'.moc3'}[e]||''}}if(n.has(r)){console.info(`å·²è·³è¿‡é‡å¤æ–‡ä»¶: ${r}`);continue}const d=new File([s],r,{type:s.type});p.value.push({file:d,sourceUrl:e}),n.add(r),a++}catch(t){console.error(`å¯¼å…¥URLå¤±è´¥: ${e}`,t),l++,c.push(e)}if(k.value='',a>0&&o().success(`æˆåŠŸå¯¼å…¥ ${a} ä¸ªæ–‡ä»¶${t.length>1?`ï¼ˆå…± ${t.length} ä¸ªURLï¼‰`:''}`),l>0){const e=1===l&&c[0]?`å¯¼å…¥å¤±è´¥: ${c[0]}`:`å¯¼å…¥å¤±è´¥ ${l} ä¸ªæ–‡ä»¶ï¼Œè¯·æ£€æŸ¥URLæ˜¯å¦æ­£ç¡®`;o().warning(e)}0===a&&l>0&&o().error('æ‰€æœ‰URLå¯¼å…¥å¤±è´¥ï¼Œè¯·æ£€æŸ¥ç½‘ç»œè¿æ¥å’ŒURLæ˜¯å¦æ­£ç¡®')}catch(e){console.error('URLå¯¼å…¥å¤±è´¥:',e);const t=e instanceof Error?e.message:'æœªçŸ¥é”™è¯¯';o().error(`URLå¯¼å…¥å¤±è´¥: ${t}`)}finally{N.value=!1}}else o().warning('è¯·è¾“å…¥URL')}function I(e){const t=(e instanceof File?e.name:e.file.name).toLowerCase();return t.endsWith('.moc3')?'type-moc3':t.endsWith('.model3.json')?'type-model3':t.endsWith('.cdi3.json')?'type-cdi3':t.endsWith('.motion3.json')?'type-motion':t.match(/\.(png|jpg|jpeg)$/)?'type-image':'type-other'}function R(e){const t=(e instanceof File?e.name:e.file.name).toLowerCase();return t.endsWith('.moc3')?'MOC':t.endsWith('.model3.json')?'æ¨¡å‹é…ç½®':t.endsWith('.cdi3.json')?'æ˜¾ç¤ºä¿¡æ¯':t.endsWith('.motion3.json')?'åŠ¨ä½œ/è¡¨æƒ…':t.match(/\.(png|jpg|jpeg)$/)?'å›¾ç‰‡':'å…¶ä»–'}async function F(){0!==p.value.length&&(await G(),c.value<l.length-1&&c.value++)}async function O(){if(b.value.model3)try{const e=await async function(e){try{const t=await e.text(),n=JSON.parse(t),a=[];if(n.FileReferences?.Motions)for(const[e,t]of Object.entries(n.FileReferences.Motions))if(Array.isArray(t)){const n=t.map((e,t)=>({file:e.File||e.file,index:t,fadeInTime:e.FadeInTime||e.fadeInTime,fadeOutTime:e.FadeOutTime||e.fadeOutTime}));a.push({motions:n,group:e})}return console.info('[parseModel3Motions] è§£æç»“æœ:',a),a}catch(e){throw console.error('[parseModel3Motions] è§£æå¤±è´¥:',e),new Error('æ— æ³•è§£æ model3.json æ–‡ä»¶')}}(b.value.model3.file);B.value.clear();for(const{group:t,motions:n}of e)for(const e of n){const n=e.file.split('/').pop()||e.file;B.value.set(n,{group:t,index:e.index})}console.info('[ModelUploadWizard] Motion ç´¢å¼•æ˜ å°„è¡¨:',B.value)}catch(e){console.error('[ModelUploadWizard] è§£æ model3.json å¤±è´¥:',e),o().error('è§£ææ¨¡å‹æ–‡ä»¶å¤±è´¥ï¼Œéƒ¨åˆ†åŠŸèƒ½å¯èƒ½ä¸å¯ç”¨')}else console.warn('[ModelUploadWizard] æ²¡æœ‰ model3.json æ–‡ä»¶')}async function W(){if(0===c.value){if(0===p.value.length)return;await G()}2===c.value&&E.value&&await O(),c.value<l.length-1&&c.value++}function H(){c.value>0&&c.value--}async function G(){g.value=!0;try{if(!v.value){const e=p.value.find(e=>e.file.name.endsWith('.model3.json')||e.file.name.endsWith('.moc3'));if(e)v.value=e.file.name.replace(/\.(model3\.json|moc3)$/,'');else{const e=p.value[0];v.value=e&&e.file.name.replace(/\.[^.]*$/,'')||'æ–°èµ„æº'}}const e=p.value.map(e=>{const t=e.file,n=t.name.toLowerCase();let a='other',l=!1;return n.endsWith('.moc3')?a='moc3':n.endsWith('.model3.json')?a='model3':n.endsWith('.cdi3.json')?a='cdi3':n.endsWith('.motion3.json')?(a=function(e){const t=e.toLowerCase(),n=[/_e\./i,/\.e\./i,/expression/i,/è¡¨æƒ…/i,/exp/i,/f\d+/i,/^expr/i],a=[/_m\./i,/\.m\./i,/motion/i,/åŠ¨ä½œ/i,/mot/i,/idle/i,/tap/i,/touch/i];for(const e of n)if(e.test(t))return'expression';for(const e of a)if(e.test(t))return'motion';return'motion'}(t.name),l=!0):n.match(/\.(png|jpg|jpeg)$/)&&(a='unclassified_image'),{name:t.name,file:t,sourceUrl:e.sourceUrl,type:a,canToggle:l,characterName:undefined}});b.value={textures:[],moc3:e.find(e=>'moc3'===e.type)||null,model3:e.find(e=>'model3'===e.type)||null,cdi3:e.find(e=>'cdi3'===e.type)||null,motions:e.filter(e=>'motion'===e.type||'expression'===e.type),sprites:[],backgrounds:[],cgs:[],unclassifiedImages:e.filter(e=>'unclassified_image'===e.type),others:e.filter(e=>'other'===e.type)},Gn.value=b.value.sprites.map(e=>({name:e.name,file:e.file,characterName:e.characterName,textMappings:[]})),Kn.value=b.value.backgrounds.map(e=>({name:e.name,file:e.file,textMappings:[]})),Pn.value=b.value.cgs.map(e=>({name:e.name,file:e.file,textMappings:[]}))}catch(e){console.error('åˆ†ç±»æ–‡ä»¶å¤±è´¥:',e),o().error('åˆ†ç±»æ–‡ä»¶å¤±è´¥')}finally{g.value=!1}}function K(e,t,n){if(n===e)return;let a,l;if('sprite'===e){if(l=b.value.sprites.findIndex(e=>e.name===t),-1!==l){a=b.value.sprites[l],b.value.sprites.splice(l,1);const e=Gn.value.findIndex(e=>e.name===t);e>=0&&Gn.value.splice(e,1)}}else if('background'===e){if(l=b.value.backgrounds.findIndex(e=>e.name===t),-1!==l){a=b.value.backgrounds[l],b.value.backgrounds.splice(l,1);const e=Kn.value.findIndex(e=>e.name===t);e>=0&&Kn.value.splice(e,1)}}else if('cg'===e){if(l=b.value.cgs.findIndex(e=>e.name===t),-1!==l){a=b.value.cgs[l],b.value.cgs.splice(l,1);const e=Pn.value.findIndex(e=>e.name===t);e>=0&&Pn.value.splice(e,1)}}else'texture'===e&&(l=b.value.textures.findIndex(e=>e.name===t),-1!==l&&(a=b.value.textures[l],b.value.textures.splice(l,1)));if(a)if(a.type='unclassified_image',a.characterName&&'sprite'!==n&&(a.characterName=void 0),'unclassified'===n)b.value.unclassifiedImages.push(a),o().info(`å·²å°† "${a.name}" ç§»å›å¾…åˆ†ç±»`);else{if(a.type=n,'sprite'===n){const e=a.name.match(/([^_/\\]+?)[_-]?(sprite|ç«‹ç»˜|stand|portrait)/i);e&&e[1]&&(a.characterName=e[1])}'sprite'===n?(b.value.sprites.push(a),Gn.value.push({name:a.name,file:a.file,characterName:a.characterName,textMappings:[]})):'background'===n?(b.value.backgrounds.push(a),Kn.value.push({name:a.name,file:a.file,textMappings:[]})):'cg'===n?(b.value.cgs.push(a),Pn.value.push({name:a.name,file:a.file,textMappings:[]})):'texture'===n&&b.value.textures.push(a),o().success(`å·²å°† "${a.name}" é‡æ–°åˆ†ç±»ä¸º${'sprite'===n?'ç«‹ç»˜':'background'===n?'èƒŒæ™¯':'cg'===n?'CG':'çº¹ç†'}`)}else console.warn(`æœªæ‰¾åˆ°æ–‡ä»¶: ${t} åœ¨åˆ†ç±» ${e} ä¸­`)}const P=(0,a.ref)('none'),q=(0,a.ref)('none'),J=(0,a.ref)(!0),Q=(0,a.ref)([]),X=(0,a.computed)(()=>b.value.motions.filter(e=>'motion'===e.type).map(e=>({name:Jn(e.name),file:e.file}))),te=(0,a.computed)(()=>b.value.motions.filter(e=>'expression'===e.type).map(e=>({name:Jn(e.name),file:e.file})));function ne(){Q.value.push({text:'',textTags:[],expression:'none',motion:'none'})}function Hn(e){return e.split(';').map(e=>e.trim()).filter(e=>e.length>0)}const Gn=(0,a.ref)([]),Kn=(0,a.ref)([]),Pn=(0,a.ref)([]);async function qn(){if(!M.value)return void o().warning('è¯·å…ˆå®Œæˆæ‰€æœ‰å¿…å¡«é¡¹');f.value=!0;const e=[],t=[];let a=0,l=0;try{o().info('æ­£åœ¨ä¿å­˜æ–‡ä»¶å¹¶åˆ›å»ºä¸–ç•Œä¹¦æ¡ç›®...');const c=[];for(const e of b.value.textures)try{if(e.sourceUrl)c.push({type:'texture',filename:e.file.name,url:e.sourceUrl}),a++;else{const t=await Y(v.value,e.file.name,e.file);c.push({type:'texture',fileId:t,filename:e.file.name}),a++}}catch(n){const a=n instanceof Error?n.message:String(n);t.push(`çº¹ç†æ–‡ä»¶ "${e.file.name}": ${a}`),console.error(`å­˜å‚¨çº¹ç†æ–‡ä»¶å¤±è´¥: ${e.file.name}`,n),l++}if(b.value.moc3)try{if(b.value.moc3.sourceUrl)c.push({type:'moc3',filename:b.value.moc3.file.name,url:b.value.moc3.sourceUrl}),a++;else{const e=await Y(v.value,b.value.moc3.file.name,b.value.moc3.file);c.push({type:'moc3',fileId:e,filename:b.value.moc3.file.name}),a++}}catch(e){const n=e instanceof Error?e.message:String(e);t.push(`æ¨¡å‹æ–‡ä»¶ "${b.value.moc3.file.name}": ${n}`),console.error(`å­˜å‚¨ moc3 æ–‡ä»¶å¤±è´¥: ${b.value.moc3.file.name}`,e),l++}if(b.value.model3)try{if(b.value.model3.sourceUrl)c.push({type:'model3',filename:b.value.model3.file.name,url:b.value.model3.sourceUrl}),a++;else{const e=await Y(v.value,b.value.model3.file.name,b.value.model3.file);c.push({type:'model3',fileId:e,filename:b.value.model3.file.name}),a++}}catch(e){const n=e instanceof Error?e.message:String(e);t.push(`æ¨¡å‹æ–‡ä»¶ "${b.value.model3.file.name}": ${n}`),console.error(`å­˜å‚¨ model3 æ–‡ä»¶å¤±è´¥: ${b.value.model3.file.name}`,e),l++}if(b.value.cdi3)try{if(b.value.cdi3.sourceUrl)c.push({type:'cdi3',filename:b.value.cdi3.file.name,url:b.value.cdi3.sourceUrl}),a++;else{const e=await Y(v.value,b.value.cdi3.file.name,b.value.cdi3.file);c.push({type:'cdi3',fileId:e,filename:b.value.cdi3.file.name}),a++}}catch(e){const n=e instanceof Error?e.message:String(e);t.push(`æ˜¾ç¤ºä¿¡æ¯æ–‡ä»¶ "${b.value.cdi3.file.name}": ${n}`),console.error(`å­˜å‚¨ cdi3 æ–‡ä»¶å¤±è´¥: ${b.value.cdi3.file.name}`,e),l++}const s=[];for(const e of b.value.motions.filter(e=>'motion'===e.type||'expression'===e.type))try{if(e.sourceUrl)s.push({name:Jn(e.name),filename:e.file.name,url:e.sourceUrl,type:e.type}),a++;else{const t=await Y(v.value,e.file.name,e.file);s.push({name:Jn(e.name),fileId:t,filename:e.file.name,type:e.type}),a++}}catch(n){const a=n instanceof Error?n.message:String(n);t.push(`${'motion'===e.type?'åŠ¨ä½œ':'è¡¨æƒ…'}æ–‡ä»¶ "${e.file.name}": ${a}`),console.error(`å­˜å‚¨åŠ¨ä½œæ–‡ä»¶å¤±è´¥: ${e.file.name}`,n),l++}const i=new Map;for(const e of Gn.value)try{const t=b.value.sprites.find(t=>t.name===e.name),n=e.characterName||'default';i.has(n)||i.set(n,[]);const l=(e.textMappings||[]).map(e=>e.text.trim()).filter(e=>e.length>0);if(t?.sourceUrl)i.get(n).push({name:e.name,filename:e.file.name,url:t.sourceUrl,textMappings:l}),a++;else{const t=await Y(v.value,e.file.name,e.file);i.get(n).push({name:e.name,fileId:t,filename:e.file.name,textMappings:l}),a++}}catch(n){const a=n instanceof Error?n.message:String(n);t.push(`ç«‹ç»˜æ–‡ä»¶ "${e.file.name}": ${a}`),console.error(`å­˜å‚¨ç«‹ç»˜æ–‡ä»¶å¤±è´¥: ${e.file.name}`,n),l++}const d=[];for(const e of Kn.value)try{const t=b.value.backgrounds.find(t=>t.name===e.name),n=(e.textMappings||[]).map(e=>e.text.trim()).filter(e=>e.length>0);if(t?.sourceUrl)d.push({name:e.name,filename:e.file.name,url:t.sourceUrl,textMappings:n}),a++;else{const t=await Y(v.value,e.file.name,e.file);d.push({name:e.name,fileId:t,filename:e.file.name,textMappings:n}),a++}}catch(n){const a=n instanceof Error?n.message:String(n);t.push(`èƒŒæ™¯æ–‡ä»¶ "${e.file.name}": ${a}`),console.error(`å­˜å‚¨èƒŒæ™¯æ–‡ä»¶å¤±è´¥: ${e.file.name}`,n),l++}const u=[];for(const e of Pn.value)try{const t=b.value.cgs.find(t=>t.name===e.name),n=(e.textMappings||[]).map(e=>e.text.trim()).filter(e=>e.length>0);if(t?.sourceUrl)u.push({name:e.name,filename:e.file.name,url:t.sourceUrl,textMappings:n}),a++;else{const t=await Y(v.value,e.file.name,e.file);u.push({name:e.name,fileId:t,filename:e.file.name,textMappings:n}),a++}}catch(n){const a=n instanceof Error?n.message:String(n);t.push(`CGæ–‡ä»¶ "${e.file.name}": ${a}`),console.error(`å­˜å‚¨CGæ–‡ä»¶å¤±è´¥: ${e.file.name}`,n),l++}const m=[];if(c.some(e=>'model3'===e.type||'moc3'===e.type))try{const e=c.find(e=>'model3'===e.type),t=c.find(e=>'moc3'===e.type),n=c.find(e=>'cdi3'===e.type),a=c.filter(e=>'texture'===e.type),l=[];for(const e of s){const t=e.filename,n=Jn(t),a=B.value.get(t),o=a?.group??'default',c=a?.index??0,s=[];for(const t of Q.value){('motion'===e.type?t.motion:t.expression)===n&&t.textTags&&t.textTags.length>0&&s.push(...t.textTags)}const r=e.url||`indexeddb://${v.value}/${t}`;l.push({name:n,file:r,group:o,index:c,motionType:e.type,textMappings:s.length>0?s:void 0})}const o={};P.value&&'none'!==P.value&&(o.expression=P.value),q.value&&'none'!==q.value&&(o.motion=q.value,o.autoLoop=J.value);const r=function(e,t){return{name:`[æ¨¡å‹èµ„æº] ${e}`,enabled:!0,strategy:{type:'selective',keys:[`__MODEL_RESOURCE_${e}_${Date.now()}__`],keys_secondary:{logic:'and_any',keys:[]},scan_depth:'same_as_global'},position:{type:'after_character_definition',role:'system',depth:0,order:0},content:`\`\`\`json\n${JSON.stringify(t,null,2)}\n\`\`\`\n`,probability:100,recursion:{prevent_incoming:!0,prevent_outgoing:!0,delay_until:null},effect:{sticky:null,cooldown:null,delay:null}}}(v.value,{type:'live2d_model',modelName:v.value,files:{model3:e?e.url||`indexeddb://${v.value}/${e.filename}`:void 0,moc3:t?t.url||`indexeddb://${v.value}/${t.filename}`:void 0,textures:a.map(e=>e.url||`indexeddb://${v.value}/${e.filename}`),cdi3:n?n.url||`indexeddb://${v.value}/${n.filename}`:void 0},motions:l,defaultAnimation:Object.keys(o).length>0?o:void 0});m.push(r)}catch(e){const n=e instanceof Error?e.message:String(e);t.push(`åˆ›å»ºæ¨¡å‹èµ„æºä¸–ç•Œä¹¦æ¡ç›®å¤±è´¥: ${n}`),console.error('åˆ›å»ºæ¨¡å‹èµ„æºä¸–ç•Œä¹¦æ¡ç›®å¤±è´¥:',e)}for(const[e,t]of i.entries())if(t.length>0){const n=ee('default'===e?'':e,{type:'sprite',characterName:'default'===e?void 0:e,sprites:t.map(t=>({name:t.name,file:t.url?t.url:e&&'default'!==e?`indexeddb://${e}/${t.filename}`:`indexeddb://${v.value}/${t.filename}`,textMappings:t.textMappings.length>0?t.textMappings:void 0}))});m.push(n)}if(d.length>0){const e=function(e){const t=['èƒŒæ™¯','åœºæ™¯'];for(const n of e.backgrounds)n.textMappings&&t.push(...n.textMappings),t.push(n.name);return{name:'[èƒŒæ™¯èµ„æº]',enabled:!0,strategy:{type:'selective',keys:[...new Set(t)],keys_secondary:{logic:'and_any',keys:[]},scan_depth:'same_as_global'},position:{type:'after_character_definition',role:'system',depth:0,order:2},content:`\`\`\`json\n${JSON.stringify(e,null,2)}\n\`\`\`\n`,probability:100,recursion:{prevent_incoming:!1,prevent_outgoing:!1,delay_until:null},effect:{sticky:null,cooldown:null,delay:null}}}({type:'background',backgrounds:d.map(e=>({name:e.name,file:e.url||`indexeddb://backgrounds/${e.filename}`,textMappings:e.textMappings.length>0?e.textMappings:void 0}))});m.push(e)}if(u.length>0){const e=function(e){const t=['CG','cg'];for(const n of e.cgs)n.textMappings&&t.push(...n.textMappings),t.push(n.name);return{name:'[CGèµ„æº]',enabled:!0,strategy:{type:'selective',keys:[...new Set(t)],keys_secondary:{logic:'and_any',keys:[]},scan_depth:'same_as_global'},position:{type:'after_character_definition',role:'system',depth:0,order:3},content:`\`\`\`json\n${JSON.stringify(e,null,2)}\n\`\`\`\n`,probability:100,recursion:{prevent_incoming:!1,prevent_outgoing:!1,delay_until:null},effect:{sticky:null,cooldown:null,delay:null}}}({type:'cg',cgs:u.map(e=>({name:e.name,file:e.url||`indexeddb://cgs/${e.filename}`,textMappings:e.textMappings.length>0?e.textMappings:void 0}))});m.push(e)}if(m.length>0)try{let e=null;try{const t=getCharWorldbookNames('current');e=t.primary||t.additional[0]||null}catch(e){console.warn('è·å–è§’è‰²å¡ä¸–ç•Œä¹¦å¤±è´¥ï¼Œä½¿ç”¨é»˜è®¤ä¸–ç•Œä¹¦:',e)}e||(e=r);try{await getWorldbook(e)}catch{try{await createWorldbook(e,[])}catch(t){if(console.warn(`åˆ›å»ºä¸–ç•Œä¹¦ ${e} å¤±è´¥:`,t),e===r)throw t;e=r;try{await getWorldbook(r)}catch{await createWorldbook(r,[])}}}await createWorldbookEntries(e,m),console.info(`å·²åœ¨ä¸–ç•Œä¹¦ ${e} ä¸­åˆ›å»º ${m.length} ä¸ªèµ„æºä¸–ç•Œä¹¦æ¡ç›®`)}catch(e){const n=e instanceof Error?e.message:String(e);t.push(`åˆ›å»ºèµ„æºä¸–ç•Œä¹¦æ¡ç›®å¤±è´¥: ${n}`),console.error('åˆ›å»ºèµ„æºä¸–ç•Œä¹¦æ¡ç›®å¤±è´¥:',e),o().warning('åˆ›å»ºèµ„æºä¸–ç•Œä¹¦æ¡ç›®æ—¶å‡ºç°é—®é¢˜ï¼Œä½†æ–‡ä»¶å·²ä¿å­˜')}const p={name:v.value,files:c.map(e=>({type:e.type,url:e.url||'',filename:e.filename,fileId:e.fileId,isLocal:!e.url})),motions:s.map(e=>({name:e.name,url:e.url||'',type:e.type,fileId:e.fileId,isLocal:!e.url}))};for(const t of e)try{URL.revokeObjectURL(t)}catch(e){console.warn('æ¸…ç† Object URL å¤±è´¥:',e)}const g=Gn.value.length+Kn.value.length+Pn.value.length,h=g>0?`ï¼ŒåŒ…å« ${g} ä¸ªèµ„æºæ–‡ä»¶`:'';if(0===l)o().success(`æ¨¡å‹ "${v.value}" å·²æˆåŠŸåˆ›å»ºä¸–ç•Œä¹¦æ¡ç›®å¹¶ä¿å­˜æ–‡ä»¶${h}`);else{if(!(a>0))return o().error('ä¿å­˜å¤±è´¥ï¼šæ‰€æœ‰æ–‡ä»¶éƒ½æœªèƒ½æˆåŠŸä¿å­˜'),t.length>0&&(console.group('æ–‡ä»¶ä¿å­˜é”™è¯¯è¯¦æƒ…'),t.forEach((e,t)=>{console.error(`${t+1}. ${e}`)}),console.groupEnd()),void(f.value=!1);o().warning(`æ¨¡å‹ "${v.value}" å·²éƒ¨åˆ†å®Œæˆï¼šæˆåŠŸ ${a} ä¸ªï¼Œå¤±è´¥ ${l} ä¸ª${h}`),t.length>0&&(console.group('æ–‡ä»¶ä¿å­˜é”™è¯¯è¯¦æƒ…'),t.forEach((e,t)=>{console.error(`${t+1}. ${e}`)}),console.groupEnd())}setTimeout(()=>{n('complete',p)},500)}catch(n){for(const t of e)try{URL.revokeObjectURL(t)}catch(e){console.warn('æ¸…ç† Object URL å¤±è´¥:',e)}const a=n instanceof Error?n.message:String(n);console.error('åˆ›å»ºä¸–ç•Œä¹¦æ¡ç›®å¤±è´¥:',n),o().error(`åˆ›å»ºä¸–ç•Œä¹¦æ¡ç›®å¤±è´¥: ${a}`),t.length>0&&(console.group('é”™è¯¯è¯¦æƒ…'),t.forEach((e,t)=>{console.error(`${t+1}. ${e}`)}),console.groupEnd())}finally{f.value=!1}}function Jn(e){return e.replace(/\.motion3?\.json$/i,'').replace(/^\d+_/,'').replace(/_m$/i,'').replace(/_e$/i,'').replace(/_motion$/i,'').replace(/_expression$/i,'')}return(e,t)=>((0,a.openBlock)(),(0,a.createElementBlock)('div',le,[(0,a.createVNode)(ae,{title:'æ¸¸æˆè®¾ç½®',onBack:t[0]||(t[0]=t=>e.$emit('close'))},{actions:(0,a.withCtx)(()=>[(0,a.createElementVNode)('button',{class:'bubble-btn bubble-btn-sm',disabled:V.value,onClick:S},(0,a.toDisplayString)(V.value?'æ¸…ç†ä¸­...':'æ¸…é™¤ç¼“å­˜'),9,oe)]),default:(0,a.withCtx)(()=>[(0,a.createVNode)((0,a.unref)(A))]),_:1}),(0,a.createCommentVNode)(' æ­¥éª¤æŒ‡ç¤ºå™¨ '),(0,a.createElementVNode)('div',ce,[((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(l,(e,t)=>(0,a.createElementVNode)('div',{key:t,class:(0,a.normalizeClass)(['step-item',{active:c.value===t,completed:c.value>t}])},[(0,a.createElementVNode)('div',se,(0,a.toDisplayString)(t+1),1),(0,a.createElementVNode)('div',re,(0,a.toDisplayString)(e.label),1)],2)),64))]),(0,a.createCommentVNode)(' æ­¥éª¤1: ä¸Šä¼ æ–‡ä»¶ '),(0,a.withDirectives)((0,a.createElementVNode)('div',ie,[(0,a.createCommentVNode)(' ç»Ÿä¸€æ˜¾ç¤ºæ‰€æœ‰å·²ä¸Šä¼ æ–‡ä»¶åˆ—è¡¨ '),p.value.length>0?((0,a.openBlock)(),(0,a.createElementBlock)('div',de,[(0,a.createElementVNode)('div',ue,[(0,a.createElementVNode)('p',null,[(0,a.createTextVNode)(' å·²é€‰æ‹© '+(0,a.toDisplayString)(p.value.length)+' ä¸ªæ–‡ä»¶ï¼ˆå¯æ··åˆä½¿ç”¨æœ¬åœ°æ–‡ä»¶å’ŒURLå¯¼å…¥ï¼‰ ',1),p.value.some(e=>e.sourceUrl)?((0,a.openBlock)(),(0,a.createElementBlock)('span',me,' - '+(0,a.toDisplayString)(p.value.filter(e=>e.sourceUrl).length)+' ä¸ªæ¥è‡ªURL ',1)):(0,a.createCommentVNode)('v-if',!0)]),(0,a.createElementVNode)('button',{class:'bubble-btn bubble-btn-sm',onClick:L},'æ¸…ç©º')]),(0,a.createElementVNode)('div',pe,[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(p.value,(e,t)=>((0,a.openBlock)(),(0,a.createElementBlock)('div',{key:`${e.file.name}-${t}`,class:'file-item'},[(0,a.createElementVNode)('span',ve,(0,a.toDisplayString)(e.file.name),1),e.sourceUrl?((0,a.openBlock)(),(0,a.createElementBlock)('span',ge,'URL')):(0,a.createCommentVNode)('v-if',!0),(0,a.createElementVNode)('span',{class:(0,a.normalizeClass)(['file-type-badge',I(e.file)])},(0,a.toDisplayString)(R(e.file)),3),(0,a.createElementVNode)('button',{class:'remove-file-btn',title:'ç§»é™¤',onClick:(0,a.withModifiers)(e=>function(e){p.value.splice(e,1)}(t),['stop'])},[(0,a.createVNode)((0,a.unref)(C),{class:'icon-sm'})],8,fe)]))),128))])])):(0,a.createCommentVNode)('v-if',!0),(0,a.createCommentVNode)(' ä¸Šä¼ æ–¹å¼ï¼šæœ¬åœ°æ–‡ä»¶å’ŒURLå¯¼å…¥å¹¶æ’æ˜¾ç¤º '),(0,a.createElementVNode)('div',he,[(0,a.createCommentVNode)(' æœ¬åœ°æ–‡ä»¶ä¸Šä¼  '),(0,a.createElementVNode)('div',ye,[t[17]||(t[17]=(0,a.createElementVNode)('h3',{class:'method-title'},'æœ¬åœ°æ–‡ä»¶ä¸Šä¼ ',-1)),(0,a.createElementVNode)('div',{class:'upload-area',onClick:D,onDragover:t[1]||(t[1]=(0,a.withModifiers)(()=>{},['prevent'])),onDrop:(0,a.withModifiers)(j,['prevent'])},[(0,a.createElementVNode)('input',{ref_key:'fileInputRef',ref:s,type:'file',class:'hidden-input',accept:'.png,.jpg,.jpeg,.moc3,.model3.json,.cdi3.json,.motion3.json,.physics3.json',multiple:'',onChange:T},null,544),(0,a.createElementVNode)('div',ke,[(0,a.createElementVNode)('div',Ne,[(0,a.createVNode)((0,a.unref)(A),{class:'icon-lg'}),t[14]||(t[14]=(0,a.createElementVNode)('p',null,'ç‚¹å‡»æˆ–æ‹–æ‹½æ–‡ä»¶åˆ°è¿™é‡Œä¸Šä¼ ',-1)),t[15]||(t[15]=(0,a.createElementVNode)('p',{class:'hint'},'æ”¯æŒæ¨¡å‹æ–‡ä»¶ï¼ˆ.moc3, .model3.jsonç­‰ï¼‰',-1)),t[16]||(t[16]=(0,a.createElementVNode)('p',{class:'hint'},'æ”¯æŒå›¾ç‰‡æ–‡ä»¶ï¼ˆ.png, .jpgç­‰ï¼‰',-1))])])],32)]),(0,a.createCommentVNode)(' URLå¯¼å…¥ '),(0,a.createElementVNode)('div',Ve,[t[20]||(t[20]=(0,a.createElementVNode)('h3',{class:'method-title'},'URLå¯¼å…¥',-1)),(0,a.createElementVNode)('div',be,[(0,a.createElementVNode)('div',Ee,[(0,a.withDirectives)((0,a.createElementVNode)('textarea',{'onUpdate:modelValue':t[2]||(t[2]=e=>k.value=e),class:'url-input',placeholder:'è¯·è¾“å…¥æ–‡ä»¶URLï¼Œæ¯è¡Œä¸€ä¸ªï¼Œæˆ–ä½¿ç”¨é€—å·/åˆ†å·åˆ†éš”\næ”¯æŒå›¾ç‰‡å’Œæ¨¡å‹æ–‡ä»¶',rows:'3',onKeydown:(0,a.withKeys)((0,a.withModifiers)(U,['ctrl']),['enter'])},null,40,xe),[[a.vModelText,k.value]]),(0,a.createElementVNode)('button',{class:'bubble-btn bubble-btn-primary',disabled:!k.value.trim()||N.value,onClick:U},(0,a.toDisplayString)(N.value?'å¯¼å…¥ä¸­...':'å¯¼å…¥ URL'),9,we)]),t[18]||(t[18]=(0,a.createElementVNode)('p',{class:'hint'},'å¯ä»¥è¾“å…¥å¤šä¸ªURLï¼Œæ¯è¡Œä¸€ä¸ªï¼Œæˆ–ä½¿ç”¨é€—å·/åˆ†å·åˆ†éš”ï¼ˆCtrl+Enter å¿«é€Ÿå¯¼å…¥ï¼‰',-1)),t[19]||(t[19]=(0,a.createElementVNode)('p',{class:'hint'},'å¯¼å…¥çš„æ–‡ä»¶ä¼šä¸æœ¬åœ°æ–‡ä»¶åˆå¹¶æ˜¾ç¤ºï¼ŒURL æ–‡ä»¶ä¼šä¿ç•™åŸå§‹åœ°å€',-1))])])]),(0,a.createElementVNode)('div',Be,[(0,a.createElementVNode)('button',{class:'bubble-btn',onClick:t[3]||(t[3]=t=>e.$emit('close'))},'å–æ¶ˆ'),(0,a.createElementVNode)('button',{class:'bubble-btn bubble-btn-primary',disabled:0===p.value.length,onClick:F},' å®Œæˆä¸Šä¼ å¹¶åˆ†ç±»æ–‡ä»¶ ',8,Ce)])],512),[[a.vShow,0===c.value]]),(0,a.createCommentVNode)(' æ­¥éª¤2: åˆ†ç±»å’Œç¡®è®¤ '),(0,a.withDirectives)((0,a.createElementVNode)('div',Me,[g.value?((0,a.openBlock)(),(0,a.createElementBlock)('div',$e,[...t[21]||(t[21]=[(0,a.createElementVNode)('p',null,'æ­£åœ¨è‡ªåŠ¨åˆ†ç±»æ–‡ä»¶...',-1)])])):((0,a.openBlock)(),(0,a.createElementBlock)('div',Se,[(0,a.createCommentVNode)(' èµ„æºåç§°è¾“å…¥ '),(0,a.createElementVNode)('div',De,[t[22]||(t[22]=(0,a.createElementVNode)('h3',null,'èµ„æºåç§°',-1)),(0,a.withDirectives)((0,a.createElementVNode)('input',{'onUpdate:modelValue':t[4]||(t[4]=e=>v.value=e),type:'text',placeholder:'è¯·è¾“å…¥èµ„æºåç§°',class:'model-name-input'},null,512),[[a.vModelText,v.value]]),t[23]||(t[23]=(0,a.createElementVNode)('p',{class:'hint'},'èµ„æºåç§°å°†ç”¨äºä¸–ç•Œä¹¦æ¡ç›®å’Œé…ç½®ï¼ˆå¯ä»¥æ˜¯æ¨¡å‹åã€è§’è‰²åç­‰ï¼‰',-1))]),(0,a.createCommentVNode)(' æ–‡ä»¶åˆ†ç±»æ˜¾ç¤º '),(0,a.createElementVNode)('div',_e,[(0,a.createCommentVNode)(' æ¨¡å‹æ–‡ä»¶ '),b.value.moc3||b.value.model3?((0,a.openBlock)(),(0,a.createElementBlock)('div',Te,[t[24]||(t[24]=(0,a.createElementVNode)('h3',null,'æ¨¡å‹æ–‡ä»¶',-1)),(0,a.createElementVNode)('div',je,[b.value.model3?((0,a.openBlock)(),(0,a.createElementBlock)('div',Le,[(0,a.createVNode)((0,a.unref)(y),{class:'icon-sm'}),(0,a.createElementVNode)('span',null,(0,a.toDisplayString)(b.value.model3.name),1)])):(0,a.createCommentVNode)('v-if',!0),b.value.moc3?((0,a.openBlock)(),(0,a.createElementBlock)('div',Ue,[(0,a.createVNode)((0,a.unref)(y),{class:'icon-sm'}),(0,a.createElementVNode)('span',null,(0,a.toDisplayString)(b.value.moc3.name),1)])):(0,a.createCommentVNode)('v-if',!0)])])):(0,a.createCommentVNode)('v-if',!0),(0,a.createCommentVNode)(' çº¹ç†æ–‡ä»¶ '),b.value.textures.length>0?((0,a.openBlock)(),(0,a.createElementBlock)('div',Ie,[(0,a.createElementVNode)('h3',null,'çº¹ç†æ–‡ä»¶ ('+(0,a.toDisplayString)(b.value.textures.length)+')',1),(0,a.createElementVNode)('div',Re,[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(b.value.textures,e=>((0,a.openBlock)(),(0,a.createElementBlock)('div',{key:e.name,class:'category-item category-item-with-select'},[(0,a.createVNode)((0,a.unref)(y),{class:'icon-sm'}),(0,a.createElementVNode)('span',Fe,(0,a.toDisplayString)(e.name),1),(0,a.createElementVNode)('select',{value:'texture',class:'classify-select',onChange:t=>K('texture',e.name,t.target.value)},[...t[25]||(t[25]=[(0,a.createStaticVNode)('<option value="texture" data-v-3dd618d8>çº¹ç†</option><option value="sprite" data-v-3dd618d8>ç«‹ç»˜</option><option value="background" data-v-3dd618d8>èƒŒæ™¯</option><option value="cg" data-v-3dd618d8>CG</option><option value="unclassified" data-v-3dd618d8>å¾…åˆ†ç±»</option>',5)])],40,ze)]))),128))])])):(0,a.createCommentVNode)('v-if',!0),(0,a.createCommentVNode)(' åŠ¨ä½œ/è¡¨æƒ…æ–‡ä»¶ '),b.value.motions.length>0?((0,a.openBlock)(),(0,a.createElementBlock)('div',Oe,[(0,a.createElementVNode)('h3',null,'åŠ¨ä½œ/è¡¨æƒ…æ–‡ä»¶ ('+(0,a.toDisplayString)(b.value.motions.length)+')',1),t[26]||(t[26]=(0,a.createElementVNode)('p',{class:'hint'},'è¯·ç¡®è®¤æ¯ä¸ªæ–‡ä»¶æ˜¯"åŠ¨ä½œ"è¿˜æ˜¯"è¡¨æƒ…"ï¼ˆç³»ç»Ÿå·²è‡ªåŠ¨è¯†åˆ«ï¼Œå¯æ‰‹åŠ¨è°ƒæ•´ï¼‰',-1)),(0,a.createElementVNode)('div',Ae,[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(b.value.motions,e=>((0,a.openBlock)(),(0,a.createElementBlock)('div',{key:e.name,class:'category-item'},[(0,a.createVNode)((0,a.unref)(y),{class:'icon-sm'}),(0,a.createElementVNode)('span',null,(0,a.toDisplayString)(e.name),1),(0,a.createElementVNode)('span',{class:(0,a.normalizeClass)(['type-badge','motion'===e.type?'badge-motion':'badge-expression'])},(0,a.toDisplayString)('motion'===e.type?'åŠ¨ä½œ':'è¡¨æƒ…'),3),(0,a.createElementVNode)('button',{class:'toggle-type-btn',onClick:t=>function(e){'motion'===e.type?e.type='expression':e.type='motion'}(e)},' åˆ‡æ¢ä¸º'+(0,a.toDisplayString)('motion'===e.type?'è¡¨æƒ…':'åŠ¨ä½œ'),9,We)]))),128))])])):(0,a.createCommentVNode)('v-if',!0),(0,a.createCommentVNode)(' ç«‹ç»˜æ–‡ä»¶ '),b.value.sprites.length>0?((0,a.openBlock)(),(0,a.createElementBlock)('div',He,[(0,a.createElementVNode)('h3',null,'è§’è‰²ç«‹ç»˜ ('+(0,a.toDisplayString)(b.value.sprites.length)+')',1),(0,a.createElementVNode)('div',Ge,[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(b.value.sprites,e=>((0,a.openBlock)(),(0,a.createElementBlock)('div',{key:e.name,class:'category-item category-item-with-select'},[(0,a.createVNode)((0,a.unref)(y),{class:'icon-sm'}),(0,a.createElementVNode)('span',Ke,(0,a.toDisplayString)(e.name),1),e.characterName?((0,a.openBlock)(),(0,a.createElementBlock)('span',Pe,(0,a.toDisplayString)(e.characterName),1)):(0,a.createCommentVNode)('v-if',!0),(0,a.createElementVNode)('select',{value:'sprite',class:'classify-select',onChange:t=>K('sprite',e.name,t.target.value)},[...t[27]||(t[27]=[(0,a.createStaticVNode)('<option value="sprite" data-v-3dd618d8>ç«‹ç»˜</option><option value="background" data-v-3dd618d8>èƒŒæ™¯</option><option value="cg" data-v-3dd618d8>CG</option><option value="texture" data-v-3dd618d8>çº¹ç†</option><option value="unclassified" data-v-3dd618d8>å¾…åˆ†ç±»</option>',5)])],40,qe)]))),128))])])):(0,a.createCommentVNode)('v-if',!0),(0,a.createCommentVNode)(' èƒŒæ™¯æ–‡ä»¶ '),b.value.backgrounds.length>0?((0,a.openBlock)(),(0,a.createElementBlock)('div',Je,[(0,a.createElementVNode)('h3',null,'èƒŒæ™¯ ('+(0,a.toDisplayString)(b.value.backgrounds.length)+')',1),(0,a.createElementVNode)('div',Qe,[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(b.value.backgrounds,e=>((0,a.openBlock)(),(0,a.createElementBlock)('div',{key:e.name,class:'category-item category-item-with-select'},[(0,a.createVNode)((0,a.unref)(y),{class:'icon-sm'}),(0,a.createElementVNode)('span',Xe,(0,a.toDisplayString)(e.name),1),(0,a.createElementVNode)('select',{value:'background',class:'classify-select',onChange:t=>K('background',e.name,t.target.value)},[...t[28]||(t[28]=[(0,a.createStaticVNode)('<option value="background" data-v-3dd618d8>èƒŒæ™¯</option><option value="sprite" data-v-3dd618d8>ç«‹ç»˜</option><option value="cg" data-v-3dd618d8>CG</option><option value="texture" data-v-3dd618d8>çº¹ç†</option><option value="unclassified" data-v-3dd618d8>å¾…åˆ†ç±»</option>',5)])],40,Ye)]))),128))])])):(0,a.createCommentVNode)('v-if',!0),(0,a.createCommentVNode)(' CGæ–‡ä»¶ '),b.value.cgs.length>0?((0,a.openBlock)(),(0,a.createElementBlock)('div',Ze,[(0,a.createElementVNode)('h3',null,'CG ('+(0,a.toDisplayString)(b.value.cgs.length)+')',1),(0,a.createElementVNode)('div',et,[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(b.value.cgs,e=>((0,a.openBlock)(),(0,a.createElementBlock)('div',{key:e.name,class:'category-item category-item-with-select'},[(0,a.createVNode)((0,a.unref)(y),{class:'icon-sm'}),(0,a.createElementVNode)('span',tt,(0,a.toDisplayString)(e.name),1),(0,a.createElementVNode)('select',{value:'cg',class:'classify-select',onChange:t=>K('cg',e.name,t.target.value)},[...t[29]||(t[29]=[(0,a.createStaticVNode)('<option value="cg" data-v-3dd618d8>CG</option><option value="sprite" data-v-3dd618d8>ç«‹ç»˜</option><option value="background" data-v-3dd618d8>èƒŒæ™¯</option><option value="texture" data-v-3dd618d8>çº¹ç†</option><option value="unclassified" data-v-3dd618d8>å¾…åˆ†ç±»</option>',5)])],40,nt)]))),128))])])):(0,a.createCommentVNode)('v-if',!0),(0,a.createCommentVNode)(' å¾…åˆ†ç±»å›¾ç‰‡ '),b.value.unclassifiedImages.length>0?((0,a.openBlock)(),(0,a.createElementBlock)('div',at,[(0,a.createElementVNode)('h3',null,'å¾…åˆ†ç±»å›¾ç‰‡ ('+(0,a.toDisplayString)(b.value.unclassifiedImages.length)+')',1),t[31]||(t[31]=(0,a.createElementVNode)('p',{class:'hint'},'ç‚¹å‡»é€‰æ‹©æ¡†å°†å›¾ç‰‡åˆ†ç±»ä¸ºç«‹ç»˜ã€èƒŒæ™¯ã€CGæˆ–çº¹ç†',-1)),(0,a.createElementVNode)('div',lt,[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(b.value.unclassifiedImages,e=>((0,a.openBlock)(),(0,a.createElementBlock)('div',{key:e.name,class:'category-item category-item-with-select'},[(0,a.createVNode)((0,a.unref)(y),{class:'icon-sm'}),(0,a.createElementVNode)('span',ot,(0,a.toDisplayString)(e.name),1),(0,a.createElementVNode)('select',{value:'',class:'classify-select',onChange:t=>function(e,t){const n=b.value.unclassifiedImages.findIndex(t=>t.name===e);if(-1===n)return void console.warn(`æœªæ‰¾åˆ°æ–‡ä»¶: ${e}`);const a=b.value.unclassifiedImages[n];if(a){if(b.value.unclassifiedImages.splice(n,1),a.type=t,'sprite'===t){const e=a.name.match(/([^_/\\]+?)[_-]?(sprite|ç«‹ç»˜|stand|portrait)/i);e&&e[1]&&(a.characterName=e[1])}'sprite'===t?(b.value.sprites.push(a),Gn.value.push({name:a.name,file:a.file,characterName:a.characterName,textMappings:[]})):'background'===t?(b.value.backgrounds.push(a),Kn.value.push({name:a.name,file:a.file,textMappings:[]})):'cg'===t?(b.value.cgs.push(a),Pn.value.push({name:a.name,file:a.file,textMappings:[]})):'texture'===t&&b.value.textures.push(a),o().success(`å·²å°† "${a.name}" åˆ†ç±»ä¸º${'sprite'===t?'ç«‹ç»˜':'background'===t?'èƒŒæ™¯':'cg'===t?'CG':'çº¹ç†'}`)}}(e.name,t.target.value)},[...t[30]||(t[30]=[(0,a.createStaticVNode)('<option value="" disabled data-v-3dd618d8>é€‰æ‹©åˆ†ç±»...</option><option value="sprite" data-v-3dd618d8>ç«‹ç»˜</option><option value="background" data-v-3dd618d8>èƒŒæ™¯</option><option value="cg" data-v-3dd618d8>CG</option><option value="texture" data-v-3dd618d8>çº¹ç†</option>',5)])],40,ct)]))),128))])])):(0,a.createCommentVNode)('v-if',!0),(0,a.createCommentVNode)(' å…¶ä»–æ–‡ä»¶ '),b.value.others.length>0?((0,a.openBlock)(),(0,a.createElementBlock)('div',st,[(0,a.createElementVNode)('h3',null,'å…¶ä»–æ–‡ä»¶ ('+(0,a.toDisplayString)(b.value.others.length)+')',1),(0,a.createElementVNode)('div',rt,[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(b.value.others,e=>((0,a.openBlock)(),(0,a.createElementBlock)('div',{key:e.name,class:'category-item'},[(0,a.createVNode)((0,a.unref)(y),{class:'icon-sm'}),(0,a.createElementVNode)('span',null,(0,a.toDisplayString)(e.name),1)]))),128))])])):(0,a.createCommentVNode)('v-if',!0)])])),(0,a.createElementVNode)('div',it,[(0,a.createElementVNode)('button',{class:'bubble-btn',onClick:H},'ä¸Šä¸€æ­¥'),(0,a.createElementVNode)('button',{class:'bubble-btn bubble-btn-primary',disabled:!M.value,onClick:W},'ä¸‹ä¸€æ­¥',8,dt)])],512),[[a.vShow,1===c.value]]),(0,a.createCommentVNode)(' æ­¥éª¤3: æ¨¡å‹è®¾ç½®ï¼ˆå¯é€‰ï¼Œåªåœ¨æœ‰æ¨¡å‹æ—¶æ˜¾ç¤ºï¼‰ '),(0,a.withDirectives)((0,a.createElementVNode)('div',ut,[E.value?((0,a.openBlock)(),(0,a.createElementBlock)('div',mt,[(0,a.createElementVNode)('div',pt,[t[35]||(t[35]=(0,a.createElementVNode)('h3',null,'æ¨¡å‹è®¾ç½®',-1)),(0,a.createElementVNode)('div',vt,[t[32]||(t[32]=(0,a.createElementVNode)('label',null,'æ¨¡å‹åç§°',-1)),(0,a.withDirectives)((0,a.createElementVNode)('input',{'onUpdate:modelValue':t[5]||(t[5]=e=>v.value=e),type:'text'},null,512),[[a.vModelText,v.value]])]),(0,a.createElementVNode)('div',gt,[t[34]||(t[34]=(0,a.createElementVNode)('label',null,'æ¨¡å‹ç‰ˆæœ¬',-1)),(0,a.withDirectives)((0,a.createElementVNode)('select',{'onUpdate:modelValue':t[6]||(t[6]=e=>h.value=e)},[...t[33]||(t[33]=[(0,a.createElementVNode)('option',{value:3},'3 (model3.json)',-1),(0,a.createElementVNode)('option',{value:2},'2 (model.json)',-1)])],512),[[a.vModelSelect,h.value]])])])])):((0,a.openBlock)(),(0,a.createElementBlock)('div',ft,[...t[36]||(t[36]=[(0,a.createElementVNode)('p',{class:'hint'},'æœªæ£€æµ‹åˆ°æ¨¡å‹æ–‡ä»¶ï¼Œå°†è·³è¿‡æ­¤æ­¥éª¤',-1)])])),(0,a.createElementVNode)('div',ht,[(0,a.createElementVNode)('button',{class:'bubble-btn',onClick:H},'ä¸Šä¸€æ­¥'),(0,a.createElementVNode)('button',{class:'bubble-btn bubble-btn-primary',onClick:W},(0,a.toDisplayString)(E.value?'ä¸‹ä¸€æ­¥ï¼šèµ„æºè®¾ç½®':'ä¸‹ä¸€æ­¥'),1)])],512),[[a.vShow,2===c.value]]),(0,a.createCommentVNode)(' æ­¥éª¤4: èµ„æºè®¾ç½®ï¼ˆåˆ—è¡¨ç•Œé¢ï¼‰ '),(0,a.withDirectives)((0,a.createElementVNode)('div',yt,[(0,a.createElementVNode)('div',kt,[(0,a.createCommentVNode)(' åŠ¨ç”»å’Œè¡¨æƒ…è®¾ç½®å…¥å£ '),E.value&&(x.value>0||w.value>0)?((0,a.openBlock)(),(0,a.createElementBlock)('button',{key:0,class:'resource-entry-btn',onClick:t[7]||(t[7]=e=>u('animation'))},[t[38]||(t[38]=(0,a.createElementVNode)('div',{class:'resource-entry-icon'},[(0,a.createElementVNode)('svg',{class:'icon-md',fill:'none',stroke:'currentColor',viewBox:'0 0 24 24'},[(0,a.createElementVNode)('path',{'stroke-linecap':'round','stroke-linejoin':'round','stroke-width':'2',d:'M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z'}),(0,a.createElementVNode)('path',{'stroke-linecap':'round','stroke-linejoin':'round','stroke-width':'2',d:'M21 12a9 9 0 11-18 0 9 9 0 0118 0z'})])],-1)),(0,a.createElementVNode)('div',Nt,[t[37]||(t[37]=(0,a.createElementVNode)('span',{class:'resource-entry-title'},'åŠ¨ç”»å’Œè¡¨æƒ…è®¾ç½®',-1)),(0,a.createElementVNode)('span',Vt,(0,a.toDisplayString)(x.value)+' ä¸ªåŠ¨ä½œï¼Œ'+(0,a.toDisplayString)(w.value)+' ä¸ªè¡¨æƒ…',1)]),(0,a.createElementVNode)('div',bt,(0,a.toDisplayString)(x.value+w.value),1),t[39]||(t[39]=(0,a.createElementVNode)('svg',{class:'resource-entry-arrow',fill:'none',stroke:'currentColor',viewBox:'0 0 24 24'},[(0,a.createElementVNode)('path',{'stroke-linecap':'round','stroke-linejoin':'round','stroke-width':'2',d:'M9 5l7 7-7 7'})],-1))])):(0,a.createCommentVNode)('v-if',!0),(0,a.createCommentVNode)(' è§’è‰²ç«‹ç»˜è®¾ç½®å…¥å£ '),b.value.sprites.length>0?((0,a.openBlock)(),(0,a.createElementBlock)('button',{key:1,class:'resource-entry-btn',onClick:t[8]||(t[8]=e=>u('sprite'))},[t[40]||(t[40]=(0,a.createStaticVNode)('<div class="resource-entry-icon" data-v-3dd618d8><svg class="icon-md" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-3dd618d8><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" data-v-3dd618d8></path></svg></div><div class="resource-entry-content" data-v-3dd618d8><span class="resource-entry-title" data-v-3dd618d8>è§’è‰²ç«‹ç»˜è®¾ç½®</span><span class="resource-entry-desc" data-v-3dd618d8>é…ç½®ç«‹ç»˜çš„æ–‡æœ¬æ˜ å°„</span></div>',2)),(0,a.createElementVNode)('div',Et,(0,a.toDisplayString)(b.value.sprites.length),1),t[41]||(t[41]=(0,a.createElementVNode)('svg',{class:'resource-entry-arrow',fill:'none',stroke:'currentColor',viewBox:'0 0 24 24'},[(0,a.createElementVNode)('path',{'stroke-linecap':'round','stroke-linejoin':'round','stroke-width':'2',d:'M9 5l7 7-7 7'})],-1))])):(0,a.createCommentVNode)('v-if',!0),(0,a.createCommentVNode)(' èƒŒæ™¯è®¾ç½®å…¥å£ '),b.value.backgrounds.length>0?((0,a.openBlock)(),(0,a.createElementBlock)('button',{key:2,class:'resource-entry-btn',onClick:t[9]||(t[9]=e=>u('background'))},[t[42]||(t[42]=(0,a.createStaticVNode)('<div class="resource-entry-icon" data-v-3dd618d8><svg class="icon-md" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-3dd618d8><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z" data-v-3dd618d8></path></svg></div><div class="resource-entry-content" data-v-3dd618d8><span class="resource-entry-title" data-v-3dd618d8>èƒŒæ™¯è®¾ç½®</span><span class="resource-entry-desc" data-v-3dd618d8>é…ç½®èƒŒæ™¯çš„æ–‡æœ¬æ˜ å°„</span></div>',2)),(0,a.createElementVNode)('div',xt,(0,a.toDisplayString)(b.value.backgrounds.length),1),t[43]||(t[43]=(0,a.createElementVNode)('svg',{class:'resource-entry-arrow',fill:'none',stroke:'currentColor',viewBox:'0 0 24 24'},[(0,a.createElementVNode)('path',{'stroke-linecap':'round','stroke-linejoin':'round','stroke-width':'2',d:'M9 5l7 7-7 7'})],-1))])):(0,a.createCommentVNode)('v-if',!0),(0,a.createCommentVNode)(' CGè®¾ç½®å…¥å£ '),b.value.cgs.length>0?((0,a.openBlock)(),(0,a.createElementBlock)('button',{key:3,class:'resource-entry-btn',onClick:t[10]||(t[10]=e=>u('cg'))},[t[44]||(t[44]=(0,a.createStaticVNode)('<div class="resource-entry-icon" data-v-3dd618d8><svg class="icon-md" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-3dd618d8><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z" data-v-3dd618d8></path></svg></div><div class="resource-entry-content" data-v-3dd618d8><span class="resource-entry-title" data-v-3dd618d8>CGè®¾ç½®</span><span class="resource-entry-desc" data-v-3dd618d8>é…ç½®CGçš„æ–‡æœ¬æ˜ å°„</span></div>',2)),(0,a.createElementVNode)('div',wt,(0,a.toDisplayString)(b.value.cgs.length),1),t[45]||(t[45]=(0,a.createElementVNode)('svg',{class:'resource-entry-arrow',fill:'none',stroke:'currentColor',viewBox:'0 0 24 24'},[(0,a.createElementVNode)('path',{'stroke-linecap':'round','stroke-linejoin':'round','stroke-width':'2',d:'M9 5l7 7-7 7'})],-1))])):(0,a.createCommentVNode)('v-if',!0),(0,a.createCommentVNode)(' æ— å¯é…ç½®èµ„æºæç¤º '),E.value&&(x.value>0||w.value>0)||0!==b.value.sprites.length||0!==b.value.backgrounds.length||0!==b.value.cgs.length?(0,a.createCommentVNode)('v-if',!0):((0,a.openBlock)(),(0,a.createElementBlock)('div',Bt,[...t[46]||(t[46]=[(0,a.createElementVNode)('p',null,'æš‚æ— å¯é…ç½®çš„èµ„æº',-1),(0,a.createElementVNode)('p',{class:'hint'},'è¯·åœ¨ä¸Šä¸€æ­¥ä¸­ä¸Šä¼ å¹¶åˆ†ç±»æ–‡ä»¶',-1)])]))]),(0,a.createElementVNode)('div',{class:'step-actions'},[(0,a.createElementVNode)('button',{class:'bubble-btn',onClick:H},'ä¸Šä¸€æ­¥'),(0,a.createElementVNode)('button',{class:'bubble-btn bubble-btn-primary',onClick:W},'ä¸‹ä¸€æ­¥ï¼šå®Œæˆ')])],512),[[a.vShow,3===c.value&&!i.value]]),(0,a.createCommentVNode)(' æ­¥éª¤4: èµ„æºè®¾ç½®è¯¦æƒ…é¡µé¢ '),(0,a.withDirectives)((0,a.createElementVNode)('div',Ct,[(0,a.createCommentVNode)(' è¯¦æƒ…é¡µå†…å®¹åŒºåŸŸï¼ˆå¯æ»šåŠ¨ï¼ŒåŒ…å«å¤´éƒ¨ï¼‰ '),(0,a.createElementVNode)('div',Mt,[(0,a.createCommentVNode)(' è¯¦æƒ…é¡µå¤´éƒ¨ï¼ˆåœ¨å¯æ»šåŠ¨åŒºåŸŸå†…ï¼‰ '),(0,a.createElementVNode)('div',$t,[(0,a.createElementVNode)('button',{class:'back-btn',onClick:m},[...t[47]||(t[47]=[(0,a.createElementVNode)('svg',{class:'icon-sm',fill:'none',stroke:'currentColor',viewBox:'0 0 24 24'},[(0,a.createElementVNode)('path',{'stroke-linecap':'round','stroke-linejoin':'round','stroke-width':'2',d:'M15 19l-7-7 7-7'})],-1),(0,a.createTextVNode)(' è¿”å› ',-1)])]),(0,a.createElementVNode)('h3',St,(0,a.toDisplayString)(d.value),1)]),(0,a.createCommentVNode)(' åŠ¨ç”»å’Œè¡¨æƒ…è®¾ç½®è¯¦æƒ… '),'animation'===i.value?((0,a.openBlock)(),(0,a.createElementBlock)('div',Dt,[t[62]||(t[62]=(0,a.createElementVNode)('div',{class:'settings-hint'},[(0,a.createElementVNode)('p',null,'æç¤ºï¼šç³»ç»Ÿå·²ä»æ¨¡å‹æ–‡ä»¶ä¸­æå–åŠ¨ä½œç´¢å¼•ä¿¡æ¯ï¼Œé…ç½®å®Œæˆåå°†è‡ªåŠ¨ç”Ÿæˆä¼˜åŒ–çš„æ˜ å°„è¡¨')],-1)),(0,a.createElementVNode)('div',_t,[t[49]||(t[49]=(0,a.createElementVNode)('label',null,'é»˜è®¤è¡¨æƒ…',-1)),(0,a.withDirectives)((0,a.createElementVNode)('select',{'onUpdate:modelValue':t[11]||(t[11]=e=>P.value=e),class:'select-with-scroll'},[t[48]||(t[48]=(0,a.createElementVNode)('option',{value:'none'},'æ— ',-1)),((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(te.value,e=>((0,a.openBlock)(),(0,a.createElementBlock)('option',{key:e.name,value:e.name},(0,a.toDisplayString)(e.name),9,Tt))),128))],512),[[a.vModelSelect,P.value]])]),(0,a.createElementVNode)('div',jt,[t[51]||(t[51]=(0,a.createElementVNode)('label',null,'é»˜è®¤åŠ¨ä½œï¼ˆIdleï¼‰',-1)),(0,a.withDirectives)((0,a.createElementVNode)('select',{'onUpdate:modelValue':t[12]||(t[12]=e=>q.value=e),class:'select-with-scroll'},[t[50]||(t[50]=(0,a.createElementVNode)('option',{value:'none'},'æ— ',-1)),((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(X.value,e=>((0,a.openBlock)(),(0,a.createElementBlock)('option',{key:e.name,value:e.name},(0,a.toDisplayString)(e.name),9,Lt))),128))],512),[[a.vModelSelect,q.value]])]),(0,a.createElementVNode)('div',Ut,[(0,a.createElementVNode)('label',null,[(0,a.withDirectives)((0,a.createElementVNode)('input',{'onUpdate:modelValue':t[13]||(t[13]=e=>J.value=e),type:'checkbox'},null,512),[[a.vModelCheckbox,J.value]]),t[52]||(t[52]=(0,a.createTextVNode)(' è‡ªåŠ¨å¾ªç¯é»˜è®¤åŠ¨ä½œ ',-1))]),t[53]||(t[53]=(0,a.createElementVNode)('p',{class:'hint'},'å½“æ²¡æœ‰æ£€æµ‹åˆ°ç‰¹å®šæ–‡æœ¬æ—¶ï¼Œå°†è‡ªåŠ¨å¾ªç¯æ’­æ”¾é»˜è®¤åŠ¨ä½œ',-1))]),(0,a.createCommentVNode)(' æ–‡æœ¬åˆ°åŠ¨ä½œ/è¡¨æƒ…æ˜ å°„ '),(0,a.createElementVNode)('div',It,[(0,a.createElementVNode)('div',Rt,[t[55]||(t[55]=(0,a.createElementVNode)('h4',null,'æ–‡æœ¬æ˜ å°„',-1)),(0,a.createElementVNode)('button',{class:'bubble-btn bubble-btn-sm add-mapping-btn',onClick:ne},[(0,a.createVNode)((0,a.unref)(A),{class:'icon-sm'}),t[54]||(t[54]=(0,a.createTextVNode)(' æ·»åŠ æ˜ å°„ ',-1))])]),t[61]||(t[61]=(0,a.createElementVNode)('p',{class:'hint'},'å½“æ£€æµ‹åˆ°ç‰¹å®šæ–‡æœ¬æ—¶ï¼Œè‡ªåŠ¨æ’­æ”¾å¯¹åº”çš„åŠ¨ä½œå’Œè¡¨æƒ…ï¼ˆå¤šä¸ªæ–‡æœ¬ç”¨åˆ†å·åˆ†éš”ï¼‰',-1)),(0,a.createElementVNode)('div',Ft,[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(Q.value,(e,n)=>((0,a.openBlock)(),(0,a.createElementBlock)('div',{key:n,class:'mapping-item'},[(0,a.createElementVNode)('div',zt,[(0,a.createElementVNode)('div',Ot,[t[56]||(t[56]=(0,a.createElementVNode)('label',{class:'mapping-label'},'è§¦å‘æ–‡æœ¬',-1)),(0,a.createElementVNode)('input',{value:e.text,type:'text',placeholder:'è¾“å…¥è§¦å‘æ–‡æœ¬ï¼Œå¤šä¸ªç”¨åˆ†å·(;)åˆ†éš”',class:'mapping-text-input tags-input',onBlur:e=>function(e,t){const n=Hn(t.target.value.trim());Q.value[e].text=n.join(';'),Q.value[e].textTags=n}(n,e),onKeydown:(0,a.withKeys)(e=>{return(t=e).preventDefault(),void t.target.blur();var t},['enter'])},null,40,At),e.textTags&&e.textTags.length>0?((0,a.openBlock)(),(0,a.createElementBlock)('div',Wt,[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(e.textTags,(e,t)=>((0,a.openBlock)(),(0,a.createElementBlock)('span',{key:t,class:'text-tag'},[(0,a.createTextVNode)((0,a.toDisplayString)(e)+' ',1),(0,a.createElementVNode)('button',{class:'tag-remove',onClick:e=>function(e,t){Q.value[e].textTags&&(Q.value[e].textTags.splice(t,1),Q.value[e].text=Q.value[e].textTags.join(';'))}(n,t)},'Ã—',8,Ht)]))),128))])):(0,a.createCommentVNode)('v-if',!0)]),(0,a.createElementVNode)('div',Gt,[(0,a.createElementVNode)('div',Kt,[t[58]||(t[58]=(0,a.createElementVNode)('label',{class:'mapping-label'},'è¡¨æƒ…',-1)),(0,a.withDirectives)((0,a.createElementVNode)('select',{'onUpdate:modelValue':t=>e.expression=t,class:'mapping-select select-with-scroll'},[t[57]||(t[57]=(0,a.createElementVNode)('option',{value:'none'},'æ— è¡¨æƒ…',-1)),((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(te.value,e=>((0,a.openBlock)(),(0,a.createElementBlock)('option',{key:e.name,value:e.name},(0,a.toDisplayString)(e.name),9,qt))),128))],8,Pt),[[a.vModelSelect,e.expression]])]),(0,a.createElementVNode)('div',Jt,[t[60]||(t[60]=(0,a.createElementVNode)('label',{class:'mapping-label'},'åŠ¨ä½œ',-1)),(0,a.withDirectives)((0,a.createElementVNode)('select',{'onUpdate:modelValue':t=>e.motion=t,class:'mapping-select select-with-scroll'},[t[59]||(t[59]=(0,a.createElementVNode)('option',{value:'none'},'æ— åŠ¨ä½œ',-1)),((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(X.value,e=>((0,a.openBlock)(),(0,a.createElementBlock)('option',{key:e.name,value:e.name},(0,a.toDisplayString)(e.name),9,Xt))),128))],8,Qt),[[a.vModelSelect,e.motion]])]),(0,a.createElementVNode)('button',{class:'remove-mapping-btn',title:'åˆ é™¤',onClick:e=>function(e){Q.value.splice(e,1)}(n)},[(0,a.createVNode)((0,a.unref)(C),{class:'icon-sm'})],8,Yt)])])]))),128))])])])):(0,a.createCommentVNode)('v-if',!0),(0,a.createCommentVNode)(' è§’è‰²ç«‹ç»˜è®¾ç½®è¯¦æƒ… '),'sprite'===i.value?((0,a.openBlock)(),(0,a.createElementBlock)('div',Zt,[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(Gn.value,(e,n)=>((0,a.openBlock)(),(0,a.createElementBlock)('div',{key:n,class:'sprite-item'},[(0,a.createElementVNode)('div',en,[(0,a.createElementVNode)('span',tn,(0,a.toDisplayString)(e.name),1),e.characterName?((0,a.openBlock)(),(0,a.createElementBlock)('span',nn,(0,a.toDisplayString)(e.characterName),1)):(0,a.createCommentVNode)('v-if',!0),(0,a.createElementVNode)('button',{class:'bubble-btn bubble-btn-sm add-mapping-btn-inline',onClick:e=>function(e){Gn.value[e].textMappings||(Gn.value[e].textMappings=[]),Gn.value[e].textMappings.push({text:'',textTags:[]})}(n)},[(0,a.createVNode)((0,a.unref)(A),{class:'icon-sm'}),t[63]||(t[63]=(0,a.createTextVNode)(' æ·»åŠ æ˜ å°„ ',-1))],8,an)]),(0,a.createElementVNode)('div',ln,[(0,a.createElementVNode)('div',on,[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(e.textMappings||[],(e,t)=>((0,a.openBlock)(),(0,a.createElementBlock)('div',{key:t,class:'mapping-item'},[(0,a.createElementVNode)('div',cn,[(0,a.createElementVNode)('div',sn,[(0,a.createElementVNode)('input',{value:e.text,type:'text',placeholder:'è¾“å…¥è§¦å‘æ–‡æœ¬ï¼Œå¤šä¸ªç”¨åˆ†å·(;)åˆ†éš”',class:'mapping-text-input tags-input',onBlur:e=>function(e,t,n){const a=Hn(n.target.value.trim());Gn.value[e].textMappings&&(Gn.value[e].textMappings[t].text=a.join(';'),Gn.value[e].textMappings[t].textTags=a)}(n,t,e),onKeydown:(0,a.withKeys)(e=>{return(t=e).preventDefault(),void t.target.blur();var t},['enter'])},null,40,rn),e.textTags&&e.textTags.length>0?((0,a.openBlock)(),(0,a.createElementBlock)('div',dn,[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(e.textTags,(e,l)=>((0,a.openBlock)(),(0,a.createElementBlock)('span',{key:l,class:'text-tag'},[(0,a.createTextVNode)((0,a.toDisplayString)(e)+' ',1),(0,a.createElementVNode)('button',{class:'tag-remove',onClick:e=>function(e,t,n){Gn.value[e].textMappings?.[t].textTags&&(Gn.value[e].textMappings[t].textTags.splice(n,1),Gn.value[e].textMappings[t].text=Gn.value[e].textMappings[t].textTags.join(';'))}(n,t,l)},'Ã—',8,un)]))),128))])):(0,a.createCommentVNode)('v-if',!0)]),(0,a.createElementVNode)('button',{class:'remove-mapping-btn',title:'åˆ é™¤',onClick:e=>{return a=n,l=t,void(Gn.value[a].textMappings&&Gn.value[a].textMappings.splice(l,1));var a,l}},[(0,a.createVNode)((0,a.unref)(C),{class:'icon-sm'})],8,mn)])]))),128))])])]))),128))])):(0,a.createCommentVNode)('v-if',!0),(0,a.createCommentVNode)(' èƒŒæ™¯è®¾ç½®è¯¦æƒ… '),'background'===i.value?((0,a.openBlock)(),(0,a.createElementBlock)('div',pn,[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(Kn.value,(e,n)=>((0,a.openBlock)(),(0,a.createElementBlock)('div',{key:n,class:'background-item'},[(0,a.createElementVNode)('div',vn,[(0,a.createElementVNode)('span',gn,(0,a.toDisplayString)(e.name),1),(0,a.createElementVNode)('button',{class:'bubble-btn bubble-btn-sm add-mapping-btn-inline',onClick:e=>function(e){Kn.value[e].textMappings||(Kn.value[e].textMappings=[]),Kn.value[e].textMappings.push({text:'',textTags:[]})}(n)},[(0,a.createVNode)((0,a.unref)(A),{class:'icon-sm'}),t[64]||(t[64]=(0,a.createTextVNode)(' æ·»åŠ æ˜ å°„ ',-1))],8,fn)]),(0,a.createElementVNode)('div',hn,[(0,a.createElementVNode)('div',yn,[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(e.textMappings||[],(e,t)=>((0,a.openBlock)(),(0,a.createElementBlock)('div',{key:t,class:'mapping-item'},[(0,a.createElementVNode)('div',kn,[(0,a.createElementVNode)('div',Nn,[(0,a.createElementVNode)('input',{value:e.text,type:'text',placeholder:'è¾“å…¥è§¦å‘æ–‡æœ¬ï¼Œå¤šä¸ªç”¨åˆ†å·(;)åˆ†éš”',class:'mapping-text-input tags-input',onBlur:e=>function(e,t,n){const a=Hn(n.target.value.trim());Kn.value[e].textMappings&&(Kn.value[e].textMappings[t].text=a.join(';'),Kn.value[e].textMappings[t].textTags=a)}(n,t,e),onKeydown:(0,a.withKeys)(e=>{return(t=e).preventDefault(),void t.target.blur();var t},['enter'])},null,40,Vn),e.textTags&&e.textTags.length>0?((0,a.openBlock)(),(0,a.createElementBlock)('div',bn,[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(e.textTags,(e,l)=>((0,a.openBlock)(),(0,a.createElementBlock)('span',{key:l,class:'text-tag'},[(0,a.createTextVNode)((0,a.toDisplayString)(e)+' ',1),(0,a.createElementVNode)('button',{class:'tag-remove',onClick:e=>function(e,t,n){Kn.value[e].textMappings?.[t].textTags&&(Kn.value[e].textMappings[t].textTags.splice(n,1),Kn.value[e].textMappings[t].text=Kn.value[e].textMappings[t].textTags.join(';'))}(n,t,l)},' Ã— ',8,En)]))),128))])):(0,a.createCommentVNode)('v-if',!0)]),(0,a.createElementVNode)('button',{class:'remove-mapping-btn',title:'åˆ é™¤',onClick:e=>{return a=n,l=t,void(Kn.value[a].textMappings&&Kn.value[a].textMappings.splice(l,1));var a,l}},[(0,a.createVNode)((0,a.unref)(C),{class:'icon-sm'})],8,xn)])]))),128))])])]))),128))])):(0,a.createCommentVNode)('v-if',!0),(0,a.createCommentVNode)(' CGè®¾ç½®è¯¦æƒ… '),'cg'===i.value?((0,a.openBlock)(),(0,a.createElementBlock)('div',wn,[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(Pn.value,(e,n)=>((0,a.openBlock)(),(0,a.createElementBlock)('div',{key:n,class:'cg-item'},[(0,a.createElementVNode)('div',Bn,[(0,a.createElementVNode)('span',Cn,(0,a.toDisplayString)(e.name),1),(0,a.createElementVNode)('button',{class:'bubble-btn bubble-btn-sm add-mapping-btn-inline',onClick:e=>function(e){Pn.value[e].textMappings||(Pn.value[e].textMappings=[]),Pn.value[e].textMappings.push({text:'',textTags:[]})}(n)},[(0,a.createVNode)((0,a.unref)(A),{class:'icon-sm'}),t[65]||(t[65]=(0,a.createTextVNode)(' æ·»åŠ æ˜ å°„ ',-1))],8,Mn)]),(0,a.createElementVNode)('div',$n,[(0,a.createElementVNode)('div',Sn,[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(e.textMappings||[],(e,t)=>((0,a.openBlock)(),(0,a.createElementBlock)('div',{key:t,class:'mapping-item'},[(0,a.createElementVNode)('div',Dn,[(0,a.createElementVNode)('div',_n,[(0,a.createElementVNode)('input',{value:e.text,type:'text',placeholder:'è¾“å…¥è§¦å‘æ–‡æœ¬ï¼Œå¤šä¸ªç”¨åˆ†å·(;)åˆ†éš”',class:'mapping-text-input tags-input',onBlur:e=>function(e,t,n){const a=Hn(n.target.value.trim());Pn.value[e].textMappings&&(Pn.value[e].textMappings[t].text=a.join(';'),Pn.value[e].textMappings[t].textTags=a)}(n,t,e),onKeydown:(0,a.withKeys)(e=>{return(t=e).preventDefault(),void t.target.blur();var t},['enter'])},null,40,Tn),e.textTags&&e.textTags.length>0?((0,a.openBlock)(),(0,a.createElementBlock)('div',jn,[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(e.textTags,(e,l)=>((0,a.openBlock)(),(0,a.createElementBlock)('span',{key:l,class:'text-tag'},[(0,a.createTextVNode)((0,a.toDisplayString)(e)+' ',1),(0,a.createElementVNode)('button',{class:'tag-remove',onClick:e=>function(e,t,n){Pn.value[e].textMappings?.[t].textTags&&(Pn.value[e].textMappings[t].textTags.splice(n,1),Pn.value[e].textMappings[t].text=Pn.value[e].textMappings[t].textTags.join(';'))}(n,t,l)},'Ã—',8,Ln)]))),128))])):(0,a.createCommentVNode)('v-if',!0)]),(0,a.createElementVNode)('button',{class:'remove-mapping-btn',title:'åˆ é™¤',onClick:e=>{return a=n,l=t,void(Pn.value[a].textMappings&&Pn.value[a].textMappings.splice(l,1));var a,l}},[(0,a.createVNode)((0,a.unref)(C),{class:'icon-sm'})],8,Un)])]))),128))])])]))),128))])):(0,a.createCommentVNode)('v-if',!0)]),(0,a.createCommentVNode)(' è¯¦æƒ…é¡µåº•éƒ¨æ“ä½œ '),(0,a.createElementVNode)('div',{class:'step-actions'},[(0,a.createElementVNode)('button',{class:'bubble-btn bubble-btn-primary',onClick:m},'å®Œæˆè®¾ç½®')])],512),[[a.vShow,3===c.value&&i.value]]),(0,a.createCommentVNode)(' æ­¥éª¤5: å®Œæˆ '),(0,a.withDirectives)((0,a.createElementVNode)('div',In,[(0,a.createElementVNode)('div',Rn,[(0,a.createVNode)((0,a.unref)(y),{class:'icon-lg success-icon'}),t[66]||(t[66]=(0,a.createElementVNode)('h2',null,'å‡†å¤‡å®Œæˆ',-1)),(0,a.createElementVNode)('p',null,'æ¨¡å‹ "'+(0,a.toDisplayString)(v.value)+'" å·²å‡†å¤‡å°±ç»ª',1),(0,a.createElementVNode)('div',Fn,[(0,a.createElementVNode)('p',null,'æ¨¡å‹æ–‡ä»¶: '+(0,a.toDisplayString)(E.value?'âœ“':'âœ—'),1),(0,a.createElementVNode)('p',null,'çº¹ç†æ–‡ä»¶: '+(0,a.toDisplayString)(b.value.textures.length)+' ä¸ª',1),(0,a.createElementVNode)('p',null,'åŠ¨ä½œæ–‡ä»¶: '+(0,a.toDisplayString)(x.value)+' ä¸ª',1),(0,a.createElementVNode)('p',null,'è¡¨æƒ…æ–‡ä»¶: '+(0,a.toDisplayString)(w.value)+' ä¸ª',1)])]),(0,a.createElementVNode)('div',zn,[(0,a.createElementVNode)('button',{class:'bubble-btn',onClick:H},'ä¸Šä¸€æ­¥'),(0,a.createElementVNode)('button',{class:'bubble-btn bubble-btn-primary',disabled:f.value,onClick:qn},[f.value?((0,a.openBlock)(),(0,a.createElementBlock)('span',An,'æ­£åœ¨åˆ›å»º...')):((0,a.openBlock)(),(0,a.createElementBlock)('span',Wn,'å®Œæˆå¹¶åˆ›å»ºä¸–ç•Œä¹¦æ¡ç›®'))],8,On)])],512),[[a.vShow,4===c.value]])]))}}),Gn=(0,p.A)(Hn,[['__scopeId','data-v-3dd618d8']]),Kn={class:'opening-interface-wrapper'},Pn={class:'page main-menu'},qn={class:'menu-buttons'},Jn={class:'page start-game'},Qn={class:'openings-grid'},Xn=['onClick'],Yn={class:'image-wrapper'},Zn=['src','alt'],ea={class:'content'},ta={class:'hover-icon'},na={class:'page settings'},aa={class:'page character-intro'},la={class:'character-display'},oa={class:'character-card-inner'},ca={class:'character-image'},sa=['src','alt'],ra={class:'character-info'},ia={class:'character-role'},da={class:'character-name'},ua={class:'character-desc'},ma={class:'character-dots'},pa=['onClick'],va=(0,a.defineComponent)({__name:'app',setup(e){const{currentPage:t,showPage:n}=function(){const e=(0,a.ref)('main-menu');return{currentPage:e,showPage:function(t){e.value=t}}}(),l=(0,a.ref)(c),o=(0,a.ref)(s),{currentIndex:r,currentItem:m,prev:p,next:v,goTo:g}=function(e){const t=(0,a.ref)(0),n=(0,a.computed)(()=>e[t.value]);return{currentIndex:t,currentItem:n,prev:function(){t.value=0===t.value?e.length-1:t.value-1},next:function(){t.value=t.value===e.length-1?0:t.value+1},goTo:function(n){n>=0&&n<e.length&&(t.value=n)}}}(o.value),f=(0,a.ref)();function h(){}return(0,a.onMounted)(()=>{(0,a.nextTick)(()=>{!function(e){if(!e)return;const{count:t,minDuration:n,maxDuration:a,maxDelay:l}=i;for(let o=0;o<t;o++){const t=document.createElement('div');t.className='particle',t.style.left=100*Math.random()+'%',t.style.top=100*Math.random()+'%',t.style.animationDelay=Math.random()*l+'s',t.style.animationDuration=`${n+Math.random()*(a-n)}s`,e.appendChild(t)}}(f.value),u()})}),(0,a.watch)(t,()=>{(0,a.nextTick)(()=>{const e=window.__applyScale;e&&e(),u()})}),(e,c)=>((0,a.openBlock)(),(0,a.createElementBlock)('div',Kn,[(0,a.createElementVNode)('div',{class:(0,a.normalizeClass)(['opening-interface',{'is-main-menu':'main-menu'===(0,a.unref)(t)}])},[(0,a.createCommentVNode)(' èƒŒæ™¯ '),c[15]||(c[15]=(0,a.createElementVNode)('div',{class:'background'},null,-1)),c[16]||(c[16]=(0,a.createElementVNode)('div',{class:'overlay'},null,-1)),(0,a.createCommentVNode)(' ç²’å­æ•ˆæœ '),(0,a.createElementVNode)('div',{ref_key:'particlesRef',ref:f,class:'particles'},null,512),(0,a.createCommentVNode)(' ä¸»èœå• '),(0,a.withDirectives)((0,a.createElementVNode)('div',Pn,[c[11]||(c[11]=(0,a.createElementVNode)('div',{class:'title-section'},[(0,a.createElementVNode)('h1',null,'æ˜Ÿä¹‹è½¨è¿¹'),(0,a.createElementVNode)('p',{class:'subtitle'},'Starlight Trail'),(0,a.createElementVNode)('p',{class:'tagline'},'â€” ä¸€æ®µè·¨è¶Šæ—¶ç©ºçš„æµªæ¼«ç‰©è¯­ â€”')],-1)),(0,a.createElementVNode)('div',qn,[(0,a.createElementVNode)('button',{class:'bubble-btn bubble-btn-lg',onClick:c[0]||(c[0]=e=>(0,a.unref)(n)('start-game'))},[(0,a.createVNode)((0,a.unref)(D)),c[8]||(c[8]=(0,a.createTextVNode)(' å¼€å§‹æ¸¸æˆ ',-1))]),(0,a.createElementVNode)('button',{class:'bubble-btn bubble-btn-lg',onClick:c[1]||(c[1]=e=>(0,a.unref)(n)('settings'))},[(0,a.createVNode)((0,a.unref)(L)),c[9]||(c[9]=(0,a.createTextVNode)(' æ¸¸æˆè®¾ç½® ',-1))]),(0,a.createElementVNode)('button',{class:'bubble-btn bubble-btn-lg',onClick:c[2]||(c[2]=e=>(0,a.unref)(n)('character-intro'))},[(0,a.createVNode)((0,a.unref)(G)),c[10]||(c[10]=(0,a.createTextVNode)(' è§’è‰²ä»‹ç» ',-1))])]),c[12]||(c[12]=(0,a.createElementVNode)('div',{class:'footer'},[(0,a.createElementVNode)('p',null,'Â© 2025 Per Aspera Ad Astra. By sixue')],-1))],512),[[a.vShow,'main-menu'===(0,a.unref)(t)]]),(0,a.createCommentVNode)(' å¼€å§‹æ¸¸æˆé¡µé¢ '),(0,a.withDirectives)((0,a.createElementVNode)('div',Jn,[(0,a.createVNode)((0,a.unref)(ae),{title:'é€‰æ‹©å¼€åœº',onBack:c[3]||(c[3]=e=>(0,a.unref)(n)('main-menu'))},{'left-icon':(0,a.withCtx)(()=>[(0,a.createVNode)((0,a.unref)(R))]),'right-icon':(0,a.withCtx)(()=>[(0,a.createVNode)((0,a.unref)(R))]),_:1}),(0,a.createElementVNode)('div',Qn,[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(l.value,e=>((0,a.openBlock)(),(0,a.createElementBlock)('div',{key:e.id,class:'opening-card',onClick:t=>async function(e){await d(e)}(e)},[(0,a.createElementVNode)('div',Yn,[(0,a.createElementVNode)('img',{src:e.image||'',alt:e.title},null,8,Zn)]),(0,a.createElementVNode)('div',ea,[(0,a.createElementVNode)('h3',null,(0,a.toDisplayString)(e.title),1),(0,a.createElementVNode)('p',null,(0,a.toDisplayString)(e.description),1)]),(0,a.createElementVNode)('div',ta,[(0,a.createVNode)((0,a.unref)(R),{class:'icon-sm'})])],8,Xn))),128))]),c[13]||(c[13]=(0,a.createElementVNode)('p',{class:'hint-text'},'é€‰æ‹©ä¸€ä¸ªå¼€åœºï¼Œå¼€å¯ä½ çš„ä¸“å±æ•…äº‹',-1))],512),[[a.vShow,'start-game'===(0,a.unref)(t)]]),(0,a.createCommentVNode)(' è®¾ç½®é¡µé¢ï¼ˆæ•´åˆäº†ä¸Šä¼ å‘å¯¼ï¼‰ '),(0,a.withDirectives)((0,a.createElementVNode)('div',na,[(0,a.createVNode)((0,a.unref)(Gn),{onClose:c[4]||(c[4]=e=>(0,a.unref)(n)('main-menu')),onComplete:h})],512),[[a.vShow,'settings'===(0,a.unref)(t)]]),(0,a.createCommentVNode)(' è§’è‰²ä»‹ç»é¡µé¢ '),(0,a.withDirectives)((0,a.createElementVNode)('div',aa,[(0,a.createVNode)((0,a.unref)(ae),{title:'è§’è‰²ä»‹ç»',onBack:c[5]||(c[5]=e=>(0,a.unref)(n)('main-menu'))}),(0,a.createElementVNode)('div',la,[(0,a.createElementVNode)('button',{class:'bubble-btn bubble-btn-round nav-btn',onClick:c[6]||(c[6]=(...e)=>(0,a.unref)(p)&&(0,a.unref)(p)(...e))},[(0,a.createVNode)((0,a.unref)(V),{class:'icon-lg'})]),(0,a.createElementVNode)('div',{class:(0,a.normalizeClass)(['character-card',(0,a.unref)(m).colorClass])},[(0,a.createElementVNode)('div',oa,[(0,a.createElementVNode)('div',ca,[(0,a.createElementVNode)('img',{src:(0,a.unref)(m).image||'',alt:(0,a.unref)(m).name},null,8,sa)]),(0,a.createElementVNode)('div',ra,[(0,a.createElementVNode)('span',ia,(0,a.toDisplayString)((0,a.unref)(m).role),1),(0,a.createElementVNode)('h3',da,(0,a.toDisplayString)((0,a.unref)(m).name),1),(0,a.createElementVNode)('p',ua,(0,a.toDisplayString)((0,a.unref)(m).desc),1),(0,a.createElementVNode)('div',ma,[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(o.value,(_,e)=>((0,a.openBlock)(),(0,a.createElementBlock)('button',{key:e,class:(0,a.normalizeClass)(['dot',{active:e===(0,a.unref)(r)}]),onClick:t=>(0,a.unref)(g)(e)},null,10,pa))),128))])])])],2),(0,a.createElementVNode)('button',{class:'bubble-btn bubble-btn-round nav-btn',onClick:c[7]||(c[7]=(...e)=>(0,a.unref)(v)&&(0,a.unref)(v)(...e))},[(0,a.createVNode)((0,a.unref)(x),{class:'icon-lg'})])]),c[14]||(c[14]=(0,a.createElementVNode)('p',{class:'hint-text'},'ç‚¹å‡»å·¦å³æŒ‰é’®æˆ–åº•éƒ¨æŒ‡ç¤ºå™¨åˆ‡æ¢è§’è‰²',-1))],512),[[a.vShow,'character-intro'===(0,a.unref)(t)]])],2)]))}}),ga=(0,p.A)(va,[['__scopeId','data-v-6403c8b0']]);function fa(){const e=document.querySelector('.opening-interface');if(!e)return;if(e.querySelector('.main-menu')){e.classList.add('main-menu-active');const t=1200,n=800,a=window.innerWidth,l=window.innerHeight,o=20,c=Math.max(a-2*o,0),s=Math.max(l-2*o,0);if(c<=0||s<=0)return;const r=c/t,i=s/n,d=Math.min(r,i,1);e.style.transform=`scale(${d})`,e.style.transformOrigin='top center',console.info(`[å¼€åœºç•Œé¢] ä¸»èœå•åº”ç”¨ç¼©æ”¾æ¯”ä¾‹: ${d.toFixed(3)} (å®¹å™¨: ${a}x${l})`)}else e.classList.remove('main-menu-active'),e.style.transform='',e.style.transformOrigin='',console.info('[å¼€åœºç•Œé¢] å…¶ä»–é¡µé¢ï¼Œç§»é™¤ç¼©æ”¾é™åˆ¶')}$(()=>{try{console.info('[å¼€åœºç•Œé¢] å¼€å§‹åˆå§‹åŒ–...');if(!document.getElementById('app'))throw new Error('æ‰¾ä¸åˆ° #app å…ƒç´ ');console.info('[å¼€åœºç•Œé¢] åˆ›å»º Vue åº”ç”¨å®ä¾‹...');const e=(0,a.createApp)(ga);console.info('[å¼€åœºç•Œé¢] æŒ‚è½½åˆ° #app...'),e.mount('#app'),console.info('[å¼€åœºç•Œé¢] Vue åº”ç”¨æŒ‚è½½æˆåŠŸï¼Œåˆå§‹åŒ–ç¼©æ”¾å’Œè‡ªé€‚åº”é«˜åº¦...'),window.__applyScale=fa,setTimeout(()=>{!function(){let e;fa();const t=()=>{clearTimeout(e),e=setTimeout(()=>{fa(),u()},100)};window.addEventListener('resize',t),window.__cleanupOpeningInterface=function(){window.removeEventListener('resize',t),n&&'undefined'!=typeof ResizeObserver&&new ResizeObserver(()=>{}).disconnect()};const n=document.querySelector('.opening-interface-wrapper');if(n&&'undefined'!=typeof ResizeObserver){const e=new ResizeObserver(()=>{fa(),u()});e.observe(n);const t=document.querySelector('.opening-interface');t&&e.observe(t)}setTimeout(()=>{fa(),u()},100),setTimeout(()=>{fa(),u()},300),setTimeout(()=>{fa(),u()},500),setTimeout(()=>{fa(),u()},1e3)}(),function(){if(u(),'undefined'!=typeof ResizeObserver){const e=new ResizeObserver(()=>{clearTimeout(window.__heightAdjustTimeout),window.__heightAdjustTimeout=setTimeout(()=>{u()},100)}),t=document.getElementById('app');t&&e.observe(t),e.observe(document.body),e.observe(document.documentElement),window.addEventListener('resize',()=>{u()}),console.info('[å¼€åœºç•Œé¢] å·²å¯ç”¨ ResizeObserver è‡ªåŠ¨é«˜åº¦è°ƒæ•´')}else new MutationObserver(()=>{u()}).observe(document.body,{childList:!0,subtree:!0,attributes:!0,attributeFilter:['style','class']}),setInterval(()=>{u()},500),console.info('[å¼€åœºç•Œé¢] å·²å¯ç”¨ MutationObserver è‡ªåŠ¨é«˜åº¦è°ƒæ•´ï¼ˆé™çº§æ–¹æ¡ˆï¼‰');setTimeout(()=>{u()},100),setTimeout(()=>{u()},500),setTimeout(()=>{u()},1e3)}()},100),console.info('[å¼€åœºç•Œé¢] åˆå§‹åŒ–æˆåŠŸï¼')}catch(e){console.error('[å¼€åœºç•Œé¢] åˆå§‹åŒ–å¤±è´¥:',e);const t=document.getElementById('app');t&&(t.innerHTML=`\n        <div style="padding: 20px; color: red; background: white; font-family: monospace;">\n          <h2>âŒ å¼€åœºç•Œé¢åˆå§‹åŒ–é”™è¯¯</h2>\n          <p><strong>é”™è¯¯ä¿¡æ¯:</strong></p>\n          <pre style="background: #f5f5f5; padding: 10px; border-radius: 4px; overflow: auto;">${e instanceof Error?e.message:String(e)}</pre>\n          ${e instanceof Error&&e.stack?`<p><strong>å †æ ˆè·Ÿè¸ª:</strong></p><pre style="background: #f5f5f5; padding: 10px; border-radius: 4px; overflow: auto; font-size: 12px;">${e.stack}</pre>`:''}\n        </div>\n      `)}}),$(window).on('pagehide',()=>{window.__cleanupOpeningInterface&&window.__cleanupOpeningInterface(),console.info('[å¼€åœºç•Œé¢] èµ„æºæ¸…ç†å®Œæˆ')});
//# sourceMappingURL=index.js.map</script><style>.collapsible-section[data-v-379bada6]{background:hsla(0,0%,100%,.6);border-radius:12px;overflow:hidden;backdrop-filter:blur(10px)}.collapsible-header[data-v-379bada6]{width:100%;display:flex;justify-content:space-between;align-items:center;padding:16px 20px;background:rgba(0,0,0,0);border:none;cursor:pointer;transition:all .3s;text-align:left}.collapsible-header[data-v-379bada6]:hover{background:rgba(0,0,0,.05)}.collapsible-header.expanded[data-v-379bada6]{border-bottom:1px solid rgba(0,0,0,.1)}.header-title[data-v-379bada6]{display:flex;align-items:center;gap:8px;font-size:16px;font-weight:600;color:var(--foreground)}.badge[data-v-379bada6]{padding:2px 8px;background:rgba(236,72,153,.2);color:var(--primary-color,#ec4899);border-radius:12px;font-size:12px;font-weight:500}.chevron-icon[data-v-379bada6]{width:20px;height:20px;transition:transform .3s;color:var(--muted-foreground)}.chevron-icon.rotated[data-v-379bada6]{transform:rotate(180deg)}.collapsible-content[data-v-379bada6]{padding:16px;animation:slideDown-379bada6 .3s ease-out;overflow:visible;max-height:none}@keyframes slideDown-379bada6{from{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}.slide-enter-active[data-v-379bada6],.slide-leave-active[data-v-379bada6]{transition:all .3s ease;overflow:hidden}.slide-enter-from[data-v-379bada6],.slide-leave-to[data-v-379bada6]{max-height:0;opacity:0;padding-top:0;padding-bottom:0}.slide-enter-to[data-v-379bada6],.slide-leave-from[data-v-379bada6]{max-height:2000px;opacity:1}
.model-upload-wizard[data-v-3dd618d8]{width:100%;max-width:800px;margin:0 auto;height:100%;display:flex;flex-direction:column;overflow:hidden}.steps-indicator[data-v-3dd618d8]{display:flex;justify-content:space-between;margin:16px 0;padding:0 20px;flex-shrink:0}.step-item[data-v-3dd618d8]{flex:1;display:flex;flex-direction:column;align-items:center;position:relative}.step-item[data-v-3dd618d8]::after{content:"";position:absolute;top:20px;left:50%;width:100%;height:2px;background:rgba(0,0,0,.1);z-index:-1}.step-item[data-v-3dd618d8]:last-child::after{display:none}.step-item.active .step-number[data-v-3dd618d8]{background:var(--primary-color,#ec4899);color:#fff}.step-item.completed .step-number[data-v-3dd618d8]{background:#10b981;color:#fff}.step-number[data-v-3dd618d8]{width:40px;height:40px;border-radius:50%;background:rgba(0,0,0,.1);display:flex;align-items:center;justify-content:center;font-weight:bold;margin-bottom:8px}.step-label[data-v-3dd618d8]{font-size:14px;color:var(--muted-foreground)}.step-content[data-v-3dd618d8]{flex:1;display:flex;flex-direction:column;overflow:hidden;padding:16px;min-height:0}.step-content[data-v-3dd618d8]>*:not(.step-actions){flex:1;overflow-y:auto;overflow-x:hidden;min-height:0;scrollbar-width:none;-ms-overflow-style:none}.step-content[data-v-3dd618d8]>*:not(.step-actions)::-webkit-scrollbar{display:none}.step-content .step-actions[data-v-3dd618d8]{flex-shrink:0;margin-top:auto;padding-top:16px}.upload-area[data-v-3dd618d8]{border:2px dashed rgba(0,0,0,.2);border-radius:12px;padding:40px;text-align:center;cursor:pointer;transition:all .3s;min-height:300px;display:flex;flex-direction:column;justify-content:center}.upload-area[data-v-3dd618d8]:hover{border-color:var(--primary-color,#ec4899);background:rgba(236,72,153,.05)}.upload-area-inner[data-v-3dd618d8]{width:100%;height:100%}.upload-area-inner[data-v-3dd618d8]{width:100%;height:100%}.upload-placeholder[data-v-3dd618d8]{display:flex;flex-direction:column;align-items:center;gap:16px}.uploaded-files-preview[data-v-3dd618d8]{width:100%;cursor:default}.uploaded-files-preview[data-v-3dd618d8] *{pointer-events:auto}.files-summary[data-v-3dd618d8]{display:flex;justify-content:space-between;align-items:center;margin-bottom:16px;flex-wrap:wrap;gap:12px}.summary-actions[data-v-3dd618d8]{display:flex;gap:8px}.files-list[data-v-3dd618d8]{display:flex;flex-direction:column;gap:8px;max-height:200px;overflow-y:auto;overflow-x:hidden;scrollbar-width:none;-ms-overflow-style:none}.files-list[data-v-3dd618d8]::-webkit-scrollbar{display:none}.file-item[data-v-3dd618d8]{display:flex;align-items:center;justify-content:space-between;gap:8px;padding:8px 12px;background:rgba(0,0,0,.05);border-radius:8px;transition:background .2s}.file-item[data-v-3dd618d8]:hover{background:rgba(0,0,0,.1)}.file-name[data-v-3dd618d8]{flex:1;text-align:left;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.remove-file-btn[data-v-3dd618d8]{display:flex;align-items:center;justify-content:center;width:24px;height:24px;padding:0;border:none;background:rgba(239,68,68,.1);color:#ef4444;border-radius:4px;cursor:pointer;transition:all .2s}.remove-file-btn[data-v-3dd618d8]:hover{background:rgba(239,68,68,.2)}.file-source-badge[data-v-3dd618d8]{padding:2px 6px;border-radius:4px;font-size:11px;font-weight:500;background:rgba(59,130,246,.1);color:#3b82f6}.file-type-badge[data-v-3dd618d8]{padding:4px 8px;border-radius:4px;font-size:12px;font-weight:500}.file-type-badge.type-texture[data-v-3dd618d8]{background:#e0f2fe;color:#0369a1}.file-type-badge.type-moc3[data-v-3dd618d8],.file-type-badge.type-model3[data-v-3dd618d8]{background:#fef3c7;color:#92400e}.file-type-badge.type-motion[data-v-3dd618d8]{background:#dbeafe;color:#1e40af}.file-type-badge.type-image[data-v-3dd618d8]{background:#fce7f3;color:#9f1239}.file-type-badge.type-other[data-v-3dd618d8]{background:#f3f4f6;color:#6b7280}.classifying-status[data-v-3dd618d8]{text-align:center;padding:20px}.classified-files[data-v-3dd618d8]{display:flex;flex-direction:column;gap:16px;overflow-y:auto;overflow-x:hidden;scrollbar-width:none;-ms-overflow-style:none}.classified-files[data-v-3dd618d8]::-webkit-scrollbar{display:none}.settings-card[data-v-3dd618d8]{background:hsla(0,0%,100%,.6);border-radius:12px;padding:16px;backdrop-filter:blur(10px)}.model-name-input[data-v-3dd618d8]{width:100%;padding:12px;border:1px solid rgba(0,0,0,.2);border-radius:8px;font-size:16px;margin-top:8px}.files-categories[data-v-3dd618d8]{display:flex;flex-direction:column;gap:12px}.category-section[data-v-3dd618d8]{background:hsla(0,0%,100%,.6);border-radius:12px;padding:16px;backdrop-filter:blur(10px)}.file-category[data-v-3dd618d8]{display:flex;flex-direction:column;gap:8px;margin-top:12px;max-height:300px;overflow-y:auto;overflow-x:hidden;scrollbar-width:none;-ms-overflow-style:none}.file-category[data-v-3dd618d8]::-webkit-scrollbar{display:none}.category-item[data-v-3dd618d8]{display:flex;align-items:center;gap:8px;padding:8px;background:rgba(0,0,0,.05);border-radius:8px}.toggle-type-btn[data-v-3dd618d8]{margin-left:auto;padding:4px 8px;font-size:12px;background:rgba(0,0,0,.1);border:none;border-radius:4px;cursor:pointer}.type-badge[data-v-3dd618d8]{padding:2px 8px;border-radius:4px;font-size:12px;margin-left:8px}.type-badge.badge-motion[data-v-3dd618d8]{background:#e3f2fd;color:#1976d2}.type-badge.badge-expression[data-v-3dd618d8]{background:#fce4ec;color:#c2185b}.step-actions[data-v-3dd618d8]{display:flex;justify-content:space-between;gap:16px;margin-top:16px;padding-top:16px;border-top:1px solid rgba(0,0,0,.1);flex-shrink:0}.character-name-badge[data-v-3dd618d8]{padding:2px 8px;background:rgba(99,102,241,.2);color:#6366f1;border-radius:12px;font-size:12px;font-weight:500;margin-left:auto}.upload-methods-container[data-v-3dd618d8]{display:grid;grid-template-columns:1fr 1fr;gap:24px;margin-top:24px}@media (max-width:768px){.upload-methods-container[data-v-3dd618d8]{grid-template-columns:1fr}}.upload-method-section[data-v-3dd618d8]{display:flex;flex-direction:column;gap:12px}.method-title[data-v-3dd618d8]{font-size:16px;font-weight:600;margin:0;color:var(--foreground)}.url-upload-area[data-v-3dd618d8]{display:flex;flex-direction:column;gap:16px}.url-input-group[data-v-3dd618d8]{display:flex;gap:12px;align-items:stretch}.url-input[data-v-3dd618d8]{flex:1;padding:12px;border:1px solid rgba(0,0,0,.2);border-radius:8px;font-size:14px;background:#fff;font-family:inherit;resize:vertical;min-height:60px;line-height:1.5}.category-item-with-select[data-v-3dd618d8]{padding:12px}.classify-select[data-v-3dd618d8]{margin-left:auto;min-width:140px;padding:8px 12px;border:1px solid rgba(0,0,0,.2);border-radius:8px;font-size:14px;background:#fff;cursor:pointer;transition:all .2s}.classify-select[data-v-3dd618d8]:hover{border-color:rgba(0,0,0,.3)}.classify-select[data-v-3dd618d8]:focus{outline:none;border-color:#6366f1;box-shadow:0 0 0 3px rgba(99,102,241,.1)}.completion-summary[data-v-3dd618d8]{text-align:center;padding:40px}.success-icon[data-v-3dd618d8]{width:64px;height:64px;color:#10b981;margin-bottom:16px}.summary-details[data-v-3dd618d8]{margin-top:24px;display:flex;flex-direction:column;gap:8px;text-align:left;max-width:300px;margin-left:auto;margin-right:auto}.hidden-input[data-v-3dd618d8]{display:none}.resource-settings-list[data-v-3dd618d8]{display:flex;flex-direction:column;gap:12px;overflow-y:auto;overflow-x:hidden;flex:1;scrollbar-width:none;-ms-overflow-style:none}.resource-settings-list[data-v-3dd618d8]::-webkit-scrollbar{display:none}.resource-entry-btn[data-v-3dd618d8]{display:flex;align-items:center;gap:16px;width:100%;padding:16px 20px;background:hsla(0,0%,100%,.6);border:1px solid rgba(0,0,0,.1);border-radius:12px;cursor:pointer;transition:all .2s;text-align:left;backdrop-filter:blur(10px)}.resource-entry-btn[data-v-3dd618d8]:hover{background:hsla(0,0%,100%,.8);border-color:var(--primary-color,#ec4899);transform:translateY(-2px);box-shadow:0 4px 12px rgba(0,0,0,.1)}.resource-entry-btn[data-v-3dd618d8]:active{transform:translateY(0)}.resource-entry-icon[data-v-3dd618d8]{width:48px;height:48px;display:flex;align-items:center;justify-content:center;background:rgba(236,72,153,.1);border-radius:12px;color:var(--primary-color,#ec4899);flex-shrink:0}.resource-entry-content[data-v-3dd618d8]{flex:1;display:flex;flex-direction:column;gap:4px;min-width:0}.resource-entry-title[data-v-3dd618d8]{font-size:16px;font-weight:600;color:var(--foreground)}.resource-entry-desc[data-v-3dd618d8]{font-size:13px;color:var(--muted-foreground)}.resource-entry-badge[data-v-3dd618d8]{padding:4px 12px;background:var(--primary-color,#ec4899);color:#fff;border-radius:20px;font-size:13px;font-weight:600;flex-shrink:0}.resource-entry-arrow[data-v-3dd618d8]{width:20px;height:20px;color:var(--muted-foreground);flex-shrink:0}.no-resources-hint[data-v-3dd618d8]{text-align:center;padding:40px 20px;color:var(--muted-foreground)}.no-resources-hint p[data-v-3dd618d8]{margin:8px 0}.resource-detail-page[data-v-3dd618d8]{display:flex;flex-direction:column;height:100%}.resource-detail-content[data-v-3dd618d8]{flex:1;overflow-y:auto;overflow-x:hidden;padding:0 4px 0 0;min-height:0;scrollbar-width:none;-ms-overflow-style:none}.resource-detail-content[data-v-3dd618d8]::-webkit-scrollbar{display:none}.resource-detail-header[data-v-3dd618d8]{display:flex;align-items:center;gap:12px;padding:12px 16px;margin-bottom:16px;flex-shrink:0;position:sticky;top:0;background:hsla(0,0%,100%,.7);backdrop-filter:blur(8px);border:1px solid rgba(0,0,0,.08);border-radius:8px;z-index:10}.back-btn[data-v-3dd618d8]{display:flex;align-items:center;gap:4px;padding:8px 12px;background:rgba(0,0,0,.05);border:none;border-radius:8px;cursor:pointer;font-size:14px;color:var(--foreground);transition:all .2s;flex-shrink:0}.back-btn[data-v-3dd618d8]:hover{background:rgba(0,0,0,.1)}.resource-detail-title[data-v-3dd618d8]{font-size:18px;font-weight:600;margin:0;color:var(--foreground)}.mapping-inputs-vertical[data-v-3dd618d8]{display:flex;flex-direction:column;gap:12px;width:100%}.mapping-selects-row[data-v-3dd618d8]{display:flex;gap:12px;align-items:flex-end;flex-wrap:wrap}.mapping-select-item[data-v-3dd618d8]{flex:1;min-width:120px;display:flex;flex-direction:column;gap:4px}.mapping-label[data-v-3dd618d8]{font-size:12px;color:var(--muted-foreground);font-weight:500}.animation-settings[data-v-3dd618d8]{display:flex;flex-direction:column;gap:16px}.setting-item[data-v-3dd618d8]{margin-bottom:10px}.setting-item label[data-v-3dd618d8]{display:block;margin-bottom:6px;font-weight:500;font-size:14px;color:var(--foreground)}.setting-item input[type=text][data-v-3dd618d8],.setting-item select[data-v-3dd618d8]{width:100%;padding:8px 12px;border:1px solid rgba(0,0,0,.2);border-radius:8px;font-size:14px;background:#fff}.setting-item input[type=checkbox][data-v-3dd618d8]{margin-right:8px}.select-with-scroll[data-v-3dd618d8]{max-height:200px;overflow-y:auto}.text-mapping-section[data-v-3dd618d8]{margin-top:12px;padding-top:12px;border-top:1px solid rgba(0,0,0,.1)}.text-mapping-section.compact[data-v-3dd618d8]{margin-top:8px;padding-top:8px}.text-mapping-section h4[data-v-3dd618d8]{margin-bottom:8px;font-size:14px;font-weight:600}.text-mapping-section .text-mapping-header[data-v-3dd618d8]{display:flex;align-items:flex-start;justify-content:space-between;gap:12px;margin-bottom:12px}.text-mapping-section .text-mapping-header h4[data-v-3dd618d8]{margin:0;flex-shrink:0}.text-mapping-section .text-mapping-header .settings-hint[data-v-3dd618d8]{padding:12px;margin-bottom:16px;background:rgba(59,130,246,.1);border:1px solid rgba(59,130,246,.2);border-radius:8px}.text-mapping-section .text-mapping-header .settings-hint p[data-v-3dd618d8]{margin:0;font-size:13px;color:#3b82f6;line-height:1.5}.text-mapping-section .text-mapping-header .hint[data-v-3dd618d8]{flex:1;margin:0;font-size:12px;color:var(--muted-foreground);line-height:1.4}.text-mapping-section .text-mapping-header .add-mapping-btn[data-v-3dd618d8]{flex-shrink:0}.mapping-list[data-v-3dd618d8]{display:flex;flex-direction:column;gap:8px;max-height:400px;overflow-y:auto;overflow-x:hidden;scrollbar-width:none;-ms-overflow-style:none}.mapping-list[data-v-3dd618d8]::-webkit-scrollbar{display:none}.mapping-item[data-v-3dd618d8]{padding:10px;background:rgba(0,0,0,.05);border-radius:8px}.mapping-inputs[data-v-3dd618d8]{display:flex;gap:8px;align-items:flex-start;flex-wrap:wrap}.text-tags-input-wrapper[data-v-3dd618d8]{flex:1;min-width:200px;display:flex;flex-direction:column;gap:6px}.mapping-text-input[data-v-3dd618d8]{width:100%;padding:8px 12px;border:1px solid rgba(0,0,0,.2);border-radius:8px;font-size:14px}.mapping-text-input.tags-input[data-v-3dd618d8]{padding-bottom:6px}.mapping-text-input[data-v-3dd618d8]:focus{outline:none;border-color:#6366f1;box-shadow:0 0 0 3px rgba(99,102,241,.1)}.text-tags[data-v-3dd618d8]{display:flex;flex-wrap:wrap;gap:6px;margin-top:4px}.text-tag[data-v-3dd618d8]{display:inline-flex;align-items:center;gap:4px;padding:4px 8px;background:rgba(99,102,241,.1);color:#6366f1;border-radius:6px;font-size:12px;font-weight:500}.text-tag .tag-remove[data-v-3dd618d8]{display:inline-flex;align-items:center;justify-content:center;width:16px;height:16px;padding:0;margin-left:2px;border:none;background:rgba(99,102,241,.2);color:#6366f1;border-radius:50%;cursor:pointer;font-size:14px;line-height:1;transition:all .2s}.text-tag .tag-remove[data-v-3dd618d8]:hover{background:rgba(99,102,241,.3)}.mapping-select[data-v-3dd618d8]{min-width:120px;padding:8px 12px;border:1px solid rgba(0,0,0,.2);border-radius:8px;font-size:14px}.remove-mapping-btn[data-v-3dd618d8]{display:flex;align-items:center;justify-content:center;width:32px;height:32px;padding:0;border:none;background:rgba(239,68,68,.1);color:#ef4444;border-radius:4px;cursor:pointer;transition:all .2s}.remove-mapping-btn[data-v-3dd618d8]:hover{background:rgba(239,68,68,.2)}.sprite-settings[data-v-3dd618d8],.background-settings[data-v-3dd618d8],.cg-settings[data-v-3dd618d8]{display:flex;flex-direction:column;gap:12px}.sprite-item[data-v-3dd618d8],.background-item[data-v-3dd618d8],.cg-item[data-v-3dd618d8]{padding:12px;background:rgba(0,0,0,.05);border-radius:8px}.sprite-header[data-v-3dd618d8],.resource-header[data-v-3dd618d8]{display:flex;align-items:center;justify-content:space-between;gap:12px;margin-bottom:8px;flex-wrap:wrap}.sprite-name[data-v-3dd618d8],.resource-name[data-v-3dd618d8]{font-weight:500;color:var(--foreground);flex:1;min-width:0;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.add-mapping-btn-inline[data-v-3dd618d8]{flex-shrink:0}

:root{--foreground:#1a1a2e;--muted-foreground:#4a4a6a;--background:#fdf2f8}*{box-sizing:border-box;margin:0;padding:0}html,body{margin:0;padding:0;width:100%;height:auto;overflow-x:hidden;background:rgba(0,0,0,0)}#app{width:100%;height:auto;background:rgba(0,0,0,0);display:flex;justify-content:center;align-items:flex-start}.opening-interface-wrapper{width:100%;min-height:100vh;display:flex;justify-content:center;align-items:flex-start;background:rgba(0,0,0,0);padding:0;overflow:auto}.opening-interface{position:relative;display:flex;flex-direction:column;color:var(--foreground);font-family:"Segoe UI","Microsoft YaHei",sans-serif;background:rgba(0,0,0,0);transform-origin:top center;will-change:transform;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;width:100%;max-width:1200px;min-height:0;flex-shrink:1}.opening-interface.main-menu-active{width:1200px;height:800px;min-width:1200px;min-height:800px;flex-shrink:0}.opening-interface{background:#e8f5e9}.background{position:absolute;inset:0;background:#e8f5e9;z-index:-2;background-image:none}.opening-interface.is-main-menu .background{background-image:url("https://iili.io/f1G4kbf.jpg");background-size:cover;background-position:center;background-repeat:no-repeat}.opening-interface.is-main-menu .overlay{background:linear-gradient(to bottom,rgba(253,242,248,0.3),transparent,rgba(253,242,248,0.4))}.opening-interface:not(.is-main-menu) .background{background-image:url("https://iili.io/fGHD0fs.png");background-size:cover;background-position:center;background-repeat:no-repeat}.opening-interface:not(.is-main-menu) .overlay{background:rgba(232,245,233,.9)}.overlay{position:absolute;inset:0;z-index:-1;background:#e8f5e9}.particles{position:absolute;inset:0;pointer-events:none;z-index:0}.particle{position:absolute;width:8px;height:8px;background:hsla(0,0%,100%,.5);border-radius:50%;animation:float linear infinite}@keyframes float{0%,100%{transform:translateY(0) translateX(0);opacity:0}10%{opacity:.6}90%{opacity:.6}100%{transform:translateY(-100%) translateX(20px);opacity:0}}.page{position:relative;z-index:1;padding:20px;width:100%;height:100%;display:flex;flex-direction:column;flex:1;box-sizing:border-box;overflow:hidden}.upload-wizard-page{overflow:hidden}.upload-wizard-page .opening-interface{overflow:hidden}.main-menu{align-items:center;justify-content:center;text-align:center;padding-bottom:80px}.title-section{margin-bottom:80px}.title-section h1{font-size:clamp(3rem,8vw,5rem);font-weight:bold;color:var(--foreground);margin:0 0 16px 0;text-shadow:0 4px 20px hsla(0,0%,100%,.5)}.title-section .subtitle{font-size:clamp(1.2rem,3vw,1.5rem);color:var(--foreground);opacity:.8;letter-spacing:4px;margin:0}.title-section .tagline{margin-top:16px;font-size:clamp(.9rem,2vw,1.1rem);color:var(--foreground);opacity:.7;font-style:italic;margin:16px 0 0 0}.menu-buttons{display:flex;flex-direction:column;gap:20px;margin-bottom:80px}.footer{margin-top:auto;padding-top:40px;opacity:.6;font-size:14px}.bubble-btn{display:inline-flex;align-items:center;justify-content:center;gap:10px;padding:14px 32px;background:hsla(0,0%,100%,.4);backdrop-filter:blur(12px);border:1px solid hsla(0,0%,100%,.6);border-radius:9999px;color:var(--foreground);font-size:16px;font-weight:500;cursor:pointer;transition:all .3s ease;box-shadow:0 4px 20px hsla(0,0%,100%,.3);text-decoration:none;font-family:inherit}.bubble-btn:hover{background:hsla(0,0%,100%,.6);transform:translateY(-2px);box-shadow:0 8px 30px hsla(0,0%,100%,.4)}.bubble-btn:active{transform:translateY(0)}.bubble-btn-sm{padding:10px 20px;font-size:14px}.bubble-btn-lg{padding:16px 40px;font-size:18px;min-width:200px}.bubble-btn-round{width:50px;height:50px;padding:0;border-radius:50%}.full-width-btn{width:100%}.upload-buttons{display:flex;flex-direction:column;gap:12px;margin-top:16px}.bubble-btn-secondary{background:hsla(0,0%,100%,.6);color:var(--foreground)}.bubble-btn-secondary:hover{background:hsla(0,0%,100%,.8)}.icon{width:20px;height:20px;stroke:currentColor;stroke-width:2;fill:none}.icon-sm{width:16px;height:16px}.icon-lg{width:24px;height:24px}.start-game{width:100%;margin:0 auto;overflow-y:auto;overflow-x:hidden}.openings-grid{display:grid;grid-template-columns:repeat(2,1fr);gap:24px;margin-bottom:24px}.opening-card{position:relative;background:hsla(0,0%,100%,.3);backdrop-filter:blur(12px);border:1px solid hsla(0,0%,100%,.5);border-radius:20px;overflow:hidden;cursor:pointer;transition:all .3s ease}.opening-card:hover{background:hsla(0,0%,100%,.5);transform:scale(1.02);box-shadow:0 10px 40px hsla(0,0%,100%,.3)}.opening-card .image-wrapper{position:relative;width:100%;aspect-ratio:16/9;overflow:hidden}.opening-card .image-wrapper::after{content:"";position:absolute;inset:0;background:linear-gradient(to top,rgba(0,0,0,0.4),transparent)}.opening-card img{width:100%;height:100%;object-fit:cover;transition:transform .5s ease}.opening-card:hover img{transform:scale(1.1)}.opening-card img{width:100%;height:100%;object-fit:cover}.opening-card .content{padding:16px;text-align:left}.opening-card h3{font-size:1.25rem;font-weight:bold;color:var(--foreground);margin-bottom:8px;margin:0 0 8px 0}.opening-card p{font-size:.875rem;color:var(--muted-foreground);margin:0}.opening-card .hover-icon{position:absolute;top:16px;right:16px;width:32px;height:32px;background:hsla(0,0%,100%,.5);backdrop-filter:blur(8px);border-radius:50%;display:flex;align-items:center;justify-content:center;opacity:0;transition:opacity .3s ease}.opening-card:hover .hover-icon{opacity:1}.hint-text{text-align:center;color:var(--foreground);opacity:.7;font-size:14px;margin-top:24px}.settings{width:100%;max-width:800px;margin:0 auto;overflow-y:auto;overflow-x:hidden}.settings-content{display:flex;flex-direction:column;gap:24px}.settings-card{background:hsla(0,0%,100%,.3);backdrop-filter:blur(12px);border:1px solid hsla(0,0%,100%,.5);border-radius:20px;padding:24px}.settings-card-header{display:flex;align-items:flex-start;gap:16px;margin-bottom:16px}.settings-card-icon{width:40px;height:40px;background:hsla(0,0%,100%,.5);border-radius:50%;display:flex;align-items:center;justify-content:center;flex-shrink:0}.settings-card-header h3{margin:0 0 4px 0;font-size:18px;font-weight:600;color:var(--foreground)}.settings-card-header .desc{font-size:.875rem;color:var(--muted-foreground);margin:0;line-height:1.5}.url-input-group{display:flex;gap:12px}.url-input-group input{flex:1;padding:12px 20px;background:hsla(0,0%,100%,.5);border:1px solid hsla(0,0%,100%,.5);border-radius:9999px;color:var(--foreground);font-size:14px;outline:none;font-family:inherit}.url-input-group input:focus{box-shadow:0 0 0 2px hsla(0,0%,100%,.5)}.url-input-group input::placeholder{color:var(--muted-foreground)}.hidden-input{display:none}.config-list{display:flex;flex-direction:column;gap:12px}.config-item{display:flex;align-items:center;justify-content:space-between;background:hsla(0,0%,100%,.4);border-radius:12px;padding:12px 16px}.config-item-left{display:flex;align-items:center;gap:12px}.config-item-name{font-size:.875rem;color:var(--foreground);max-width:200px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.config-item-right{display:flex;align-items:center;gap:12px}.check-icon{color:#16a34a}.remove-btn{width:24px;height:24px;background:hsla(0,0%,100%,.5);border:none;border-radius:50%;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:background .2s ease;padding:0}.remove-btn:hover{background:hsla(0,0%,100%,.7)}.character-intro{width:100%;max-width:1200px;margin:0 auto;overflow-y:auto;overflow-x:hidden;padding:0 10px;box-sizing:border-box}.character-display{display:flex;align-items:center;justify-content:space-between;gap:24px;margin-bottom:24px;width:100%;position:relative;padding:0 10px;box-sizing:border-box}.nav-btn{flex-shrink:0;position:relative;z-index:10}.character-display .character-card{flex:1;max-width:calc(100% - 148px);min-width:0}.character-card{flex:1;background:linear-gradient(135deg,rgba(251,207,232,0.5),rgba(244,114,182,0.3));backdrop-filter:blur(12px);border:1px solid hsla(0,0%,100%,.5);border-radius:24px;overflow:hidden;box-shadow:0 10px 40px hsla(0,0%,100%,.2);transition:all .5s ease}.character-card.blue{background:linear-gradient(135deg,rgba(191,219,254,0.5),rgba(99,102,241,0.3))}.character-card.orange{background:linear-gradient(135deg,rgba(254,215,170,0.5),rgba(251,146,60,0.3))}.character-card.gray{background:linear-gradient(135deg,rgba(226,232,240,0.5),rgba(148,163,184,0.3))}.character-card-inner{display:flex;flex-direction:column}@media (min-width:768px){.character-card-inner{flex-direction:row}}.character-image{position:relative;flex:1;min-height:300px}.character-image img{width:100%;height:100%;object-fit:cover;min-height:300px}.character-image::after{content:"";position:absolute;inset:0;background:linear-gradient(to top,rgba(0,0,0,0.3),transparent)}@media (min-width:768px){.character-image::after{background:linear-gradient(to right,transparent,rgba(0,0,0,0.2))}}.character-info{flex:1;padding:24px;display:flex;flex-direction:column;justify-content:center}.character-role{display:inline-block;align-self:flex-start;padding:6px 12px;background:hsla(0,0%,100%,.5);border-radius:9999px;font-size:.75rem;font-weight:500;color:var(--foreground);margin-bottom:12px}.character-name{font-size:clamp(1.8rem,5vw,2.5rem);font-weight:bold;color:var(--foreground);margin-bottom:16px;margin:0 0 16px 0}.character-desc{color:var(--muted-foreground);line-height:1.7;margin:0}.character-dots{display:flex;align-items:center;gap:8px;margin-top:32px}.character-dots .dot{width:8px;height:8px;border-radius:9999px;background:rgba(26,26,46,.3);border:none;cursor:pointer;transition:all .3s ease;padding:0}.character-dots .dot:hover{background:rgba(26,26,46,.5)}.character-dots .dot.active{width:24px;background:var(--foreground)}.page-header{width:100%;max-width:1000px;display:flex;align-items:center;justify-content:space-between;padding:20px;margin-bottom:20px;position:relative}.page-header h2{font-size:clamp(1.5rem,4vw,2rem);font-weight:bold;color:var(--foreground);display:flex;align-items:center;gap:10px;margin:0;position:absolute;left:57%;transform:translateX(-50%);white-space:nowrap}.page-header h2 svg{width:1em;height:1em;flex-shrink:0}.page-header-actions{min-width:80px;display:flex;align-items:center;justify-content:flex-end;gap:8px}.spacer{width:80px;flex-shrink:0}@media (max-width:768px){.opening-interface{padding:10px}.title-section h1{font-size:clamp(2rem,6vw,3rem)}.title-section .subtitle{font-size:clamp(1rem,3vw,1.2rem)}.bubble-btn-lg{padding:12px 24px;font-size:16px;min-width:160px}.openings-grid{grid-template-columns:repeat(2,1fr);gap:16px}.character-display{flex-direction:column;gap:16px}.nav-btn{order:2}.character-card{order:1;width:100%}.page-header{padding:12px}.page-header h2{font-size:clamp(1.2rem,4vw,1.5rem)}.settings-card{padding:16px}}@media (max-width:480px){.opening-interface{padding:8px}.menu-buttons{gap:12px}.bubble-btn{padding:10px 20px;font-size:14px}.settings-card-header{flex-direction:column;align-items:flex-start;gap:8px}}

/*# sourceMappingURL=main.css.map*/</style></head><body><div id="app"></div></body>